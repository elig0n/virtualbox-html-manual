<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 9. Advanced Topics</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="Oracle® VM VirtualBox®"><link rel="up" href="index.html" title="Oracle® VM VirtualBox®"><link rel="prev" href="ch08.html" title="Chapter 8. VBoxManage"><link rel="next" href="ch10.html" title="Chapter 10. Technical Background"><style type="text/css"><!--
   body
   {
     font-family:  Verdana, Sans-serif, Arial, 'Trebuchet MS', 'Times New Roman';
     font-size: small;
   }
   h2.title
   {
     font-family: Verdana, Sans-serif, Arial, 'Trebuchet MS', 'Times New Roman';
     margin: 5px 0 0;
     padding: 1px 5px 1px;
     border: 1px solid #6b89d4;
     -moz-border-radius: 0.3em;
     background: #e6edff;
   }
   .titlepage
   {
     text-align: center;
   }
   .refsynopsisdiv, .refsect1, .refsect2, .refsect3
   {
     text-align: left;
   }
   .warning
   {
     padding: 5px;
     border: 1px solid #ff0011;
     -moz-border-radius: 0.3em;
     background: #ffbbbb;
   }
   .warning .title { margin: 0px 0px 5px 0px; }
   .warning p { margin: 1px; }
   .note
   {
     padding: 1px 5px 1px;
     border: 1px solid #84c43b;
     -moz-border-radius: 0.3em;
     background: #d7e9a7;
   }
   .note .title { margin: 0px 0px 5px 0px; }
   .note p { margin: 1px; }
   .cmdsynopsis
   {
     font-family: monospace;
   }
   .refsynopsisdiv        > .cmdsynopsis p, .refsect1        > .cmdsynopsis p,
   .refsynopsisdiv .sect2 > .cmdsynopsis p, .refsect1 .sect2 > .cmdsynopsis p
   {
     margin-top: 0px;
     margin-bottom: 0px;
   }
   .cmdsynopsis p
   {
     padding-left: 3.4em;
     text-indent: -2.2em;
   }
   p.nextcommand
   {
     margin-top:    0px;
     margin-bottom: 0px;
   }
   p.lastcommand
   {
     margin-top:    0px;
   }
   .refentry * h3
   {
     font-size: large;
   }
   .refentry * h4
   {
     font-size: larger;
   }
   .refentry * h5
   {
     font-size: larger;
   }

  --></style></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="AdvancedTopics"></a>Chapter 9. Advanced Topics</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="ch09.html#autologon">9.1. Automated Guest Logins</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#autologon_win">9.1.1. Automated Windows Guest Logins</a></span></dt><dt><span class="sect2"><a href="ch09.html#autologon_unix">9.1.2. Automated Linux and UNIX Guest Logins</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#adv-config-win-guest">9.2. Advanced Configuration for Windows Guests</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#sysprep">9.2.1. Automated Windows System Preparation</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#adv-config-linux-guest">9.3. Advanced Configuration for Linux and Oracle Solaris Guests</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#linux-guest-manual-setup">9.3.1. Manual Setup of Selected Guest Services on Linux</a></span></dt><dt><span class="sect2"><a href="ch09.html#guestxorgsetup">9.3.2. Guest Graphics and Mouse Driver Setup in Depth</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#cpuhotplug">9.4. CPU Hot-Plugging</a></span></dt><dt><span class="sect1"><a href="ch09.html#webcam-passthrough">9.5. Webcam Passthrough</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#webcam-using-guest">9.5.1. Using a Host Webcam in the Guest</a></span></dt><dt><span class="sect2"><a href="ch09.html#webcam-win-hosts">9.5.2. Windows Hosts</a></span></dt><dt><span class="sect2"><a href="ch09.html#webcam-mac-hosts">9.5.3. Mac OS X Hosts</a></span></dt><dt><span class="sect2"><a href="ch09.html#webcam-linux-hosts">9.5.4. Linux and Oracle Solaris Hosts</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#adv-display-config">9.6. Advanced Display Configuration</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#customvesa">9.6.1. Custom VESA Resolutions</a></span></dt><dt><span class="sect2"><a href="ch09.html#max-resolution-guests">9.6.2. Configuring the Maximum Resolution of Guests When Using the Graphical
        Frontend</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#adv-storage-config">9.7. Advanced Storage Configuration</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#rawdisk">9.7.1. Using a Raw Host Hard Disk From a Guest</a></span></dt><dt><span class="sect2"><a href="ch09.html#changevpd">9.7.2. Configuring the Hard Disk Vendor Product Data (VPD)</a></span></dt><dt><span class="sect2"><a href="ch09.html#iscsi-intnet">9.7.3. Access iSCSI Targets Using Internal Networking</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#changenat">9.8. Fine Tuning the Oracle VM VirtualBox NAT Engine</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#nat-address-config">9.8.1. Configuring the Address of a NAT Network Interface</a></span></dt><dt><span class="sect2"><a href="ch09.html#nat-adv-tftp">9.8.2. Configuring the Boot Server (Next Server) of a NAT Network Interface</a></span></dt><dt><span class="sect2"><a href="ch09.html#nat-adv-settings">9.8.3. Tuning TCP/IP Buffers for NAT</a></span></dt><dt><span class="sect2"><a href="ch09.html#nat-bind-sockets">9.8.4. Binding NAT Sockets to a Specific Interface</a></span></dt><dt><span class="sect2"><a href="ch09.html#nat-adv-dns">9.8.5. Enabling DNS Proxy in NAT Mode</a></span></dt><dt><span class="sect2"><a href="ch09.html#nat_host_resolver_proxy">9.8.6. Using the Host's Resolver as a DNS Proxy in NAT Mode</a></span></dt><dt><span class="sect2"><a href="ch09.html#nat-adv-alias">9.8.7. Configuring Aliasing of the NAT Engine</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#changedmi">9.9. Configuring the BIOS DMI Information</a></span></dt><dt><span class="sect1"><a href="ch09.html#changeacpicust">9.10. Configuring Custom ACPI Tables</a></span></dt><dt><span class="sect1"><a href="ch09.html#fine-tune-timers">9.11. Fine Tuning Timers and Time Synchronization</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#changetscmode">9.11.1. Configuring the Guest Time Stamp Counter (TSC) to Reflect Guest
        Execution</a></span></dt><dt><span class="sect2"><a href="ch09.html#warpguest">9.11.2. Accelerate or Slow Down the Guest Clock</a></span></dt><dt><span class="sect2"><a href="ch09.html#changetimesync">9.11.3. Tuning the Guest Additions Time Synchronization Parameters</a></span></dt><dt><span class="sect2"><a href="ch09.html#disabletimesync">9.11.4. Disabling the Guest Additions Time Synchronization</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#vboxbowsolaris11">9.12. Installing the Alternate Bridged Networking Driver on Oracle Solaris 11
      Hosts</a></span></dt><dt><span class="sect1"><a href="ch09.html#vboxbowvnictemplates">9.13. Oracle VM VirtualBox VNIC Templates for VLANs on Oracle Solaris 11 Hosts</a></span></dt><dt><span class="sect1"><a href="ch09.html#addhostonlysolaris">9.14. Configuring Multiple Host-Only Network Interfaces on Oracle Solaris
      Hosts</a></span></dt><dt><span class="sect1"><a href="ch09.html#solariscodedumper">9.15. Configuring the Oracle VM VirtualBox CoreDumper on Oracle Solaris Hosts</a></span></dt><dt><span class="sect1"><a href="ch09.html#vboxandsolzvmm">9.16. Oracle VM VirtualBox and Oracle Solaris Kernel Zones</a></span></dt><dt><span class="sect1"><a href="ch09.html#guitweaks">9.17. Locking Down the Oracle VM VirtualBox GUI</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#customize-vm-manager">9.17.1. Customizing the VirtualBox Manager</a></span></dt><dt><span class="sect2"><a href="ch09.html#customize-vm-selector">9.17.2. VM Selector Customization</a></span></dt><dt><span class="sect2"><a href="ch09.html#config-vm-selector-menu">9.17.3. Configure VM Selector Menu Entries</a></span></dt><dt><span class="sect2"><a href="ch09.html#config-vm-window-menu">9.17.4. Configure VM Window Menu Entries</a></span></dt><dt><span class="sect2"><a href="ch09.html#config-vm-window-status-bar">9.17.5. Configure VM Window Status Bar Entries</a></span></dt><dt><span class="sect2"><a href="ch09.html#config-vm-window-visual-modes">9.17.6. Configure VM Window Visual Modes</a></span></dt><dt><span class="sect2"><a href="ch09.html#host-key-customize">9.17.7. Host Key Customization</a></span></dt><dt><span class="sect2"><a href="ch09.html#terminate-vm-action">9.17.8. Action when Terminating the VM</a></span></dt><dt><span class="sect2"><a href="ch09.html#terminate-vm-default-action">9.17.9. Default Action when Terminating the VM</a></span></dt><dt><span class="sect2"><a href="ch09.html#guru-meditation-action">9.17.10. Action for Handling a Guru Meditation</a></span></dt><dt><span class="sect2"><a href="ch09.html#mouse-capture">9.17.11. Configuring Automatic Mouse Capturing</a></span></dt><dt><span class="sect2"><a href="ch09.html#legacy-fullscreen-mode">9.17.12. Requesting Legacy Full-Screen Mode</a></span></dt><dt><span class="sect2"><a href="ch09.html#restrict-network-attachments">9.17.13. Removing Certain Modes of Networking From the GUI</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#vboxwebsrv-daemon">9.18. Starting the Oracle VM VirtualBox Web Service Automatically</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#vboxwebsrv-linux">9.18.1. Linux: Starting the Web Service With init</a></span></dt><dt><span class="sect2"><a href="ch09.html#vboxwebsrv-solaris">9.18.2. Oracle Solaris: Starting the Web Service With SMF</a></span></dt><dt><span class="sect2"><a href="ch09.html#vboxwebsrv-osx">9.18.3. Mac OS X: Starting the Web Service With launchd</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#vboxwatchdog">9.19. Oracle VM VirtualBox Watchdog</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#vboxwatchdog-ballonctrl">9.19.1. Memory Ballooning Control</a></span></dt><dt><span class="sect2"><a href="ch09.html#vboxwatchdog-hostisln">9.19.2. Host Isolation Detection</a></span></dt><dt><span class="sect2"><a href="ch09.html#vboxwatchdog-moreinfo">9.19.3. More Information</a></span></dt><dt><span class="sect2"><a href="ch09.html#vboxwatchdog-linux">9.19.4. Linux: Starting the Watchdog Service With init</a></span></dt><dt><span class="sect2"><a href="ch09.html#vboxwatchdog-solaris">9.19.5. Oracle Solaris: Starting the Watchdog Service With SMF</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#otherextpacks">9.20. Other Extension Packs</a></span></dt><dt><span class="sect1"><a href="ch09.html#autostart">9.21. Starting Virtual Machines During System Boot</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#autostart-linux">9.21.1. Linux: Starting the Autostart Service With init</a></span></dt><dt><span class="sect2"><a href="ch09.html#autostart-solaris">9.21.2. Oracle Solaris: Starting the Autostart Service With SMF</a></span></dt><dt><span class="sect2"><a href="ch09.html#autostart-osx">9.21.3. Mac OS X: Starting the Autostart Service With launchd</a></span></dt><dt><span class="sect2"><a href="ch09.html#autostart-windows">9.21.4. Windows: Starting the Autostart Service</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#vboxexpertstoragemgmt">9.22. Oracle VM VirtualBox Expert Storage Management</a></span></dt><dt><span class="sect1"><a href="ch09.html#hostpowertweaks">9.23. Handling of Host Power Management Events</a></span></dt><dt><span class="sect1"><a href="ch09.html#sse412passthrough">9.24. Passing Through SSE4.1/SSE4.2 Instructions</a></span></dt><dt><span class="sect1"><a href="ch09.html#hidledssync">9.25. Support for Keyboard Indicator Synchronization</a></span></dt><dt><span class="sect1"><a href="ch09.html#usbtrafficcapturing">9.26. Capturing USB Traffic for Selected Devices</a></span></dt><dt><span class="sect1"><a href="ch09.html#heartbeatservice">9.27. Configuring the Heartbeat Service</a></span></dt><dt><span class="sect1"><a href="ch09.html#diskencryption">9.28. Encryption of Disk Images</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#diskencryption-limitations">9.28.1. Limitations of Disk Encryption</a></span></dt><dt><span class="sect2"><a href="ch09.html#diskencryption-encryption">9.28.2. Encrypting Disk Images</a></span></dt><dt><span class="sect2"><a href="ch09.html#diskencryption-startvm">9.28.3. Starting a VM with Encrypted Images</a></span></dt><dt><span class="sect2"><a href="ch09.html#diskencryption-decryption">9.28.4. Decrypting Encrypted Images</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#gimdebug">9.29. Paravirtualized Debugging</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#gimdebughyperv">9.29.1. Hyper-V Debug Options</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#pcspeaker_passthrough">9.30. PC Speaker Passthrough</a></span></dt><dt><span class="sect1"><a href="ch09.html#usbip">9.31. Accessing USB devices Exposed Over the Network with USB/IP</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch09.html#usbip-setup-server">9.31.1. Setting up USB/IP Support on a Linux System</a></span></dt><dt><span class="sect2"><a href="ch09.html#usbip-security">9.31.2. Security Considerations</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch09.html#hyperv-support">9.32. Using Hyper-V with Oracle VM VirtualBox</a></span></dt><dt><span class="sect1"><a href="ch09.html#nested-virt">9.33. Nested Virtualization</a></span></dt><dt><span class="sect1"><a href="ch09.html#viso">9.34. VISO file format / RTIsoMaker</a></span></dt></dl></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="autologon"></a>9.1. Automated Guest Logins</h2></div></div></div><p>
      Oracle VM VirtualBox provides Guest Addition modules for Windows, Linux,
      and Oracle Solaris to enable automated logins on the guest.
    </p><p>
      When a guest operating system is running in a virtual machine, it
      might be desirable to perform coordinated and automated logins
      using credentials passed from the host. Credentials are user
      name, password, and domain name, where each value might be empty.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="autologon_win"></a>9.1.1. Automated Windows Guest Logins</h3></div></div></div><p>
        Windows provides a modular system login subsystem, called
        Winlogon, which can be customized and extended by means of
        so-called GINA (Graphical Identification and Authentication)
        modules. In Windows Vista and later releases, the GINA modules
        were replaced with a new mechanism called credential providers.
        The Oracle VM VirtualBox Guest Additions for Windows come with both, a
        GINA and a credential provider module, and therefore enable any
        Windows guest to perform automated logins.
      </p><p>
        To activate the Oracle VM VirtualBox GINA or credential provider
        module, install the Guest Additions using the command line
        switch <code class="option">/with_autologon</code>. All the following
        manual steps required for installing these modules will be then
        done by the installer.
      </p><p>
        To manually install the Oracle VM VirtualBox GINA module, extract the
        Guest Additions as shown in
        <a href="ch04.html#windows-guest-file-extraction" title="4.2.1.4. Manual File Extraction">Section 4.2.1.4, &#8220;Manual File Extraction&#8221;</a>, and copy the
        <code class="filename">VBoxGINA.dll</code> file to the Windows
        <code class="filename">SYSTEM32</code> directory. In the registry, create
        the following key with a value of
        <code class="filename">VBoxGINA.dll</code>:
      </p><pre class="screen">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\GinaDLL</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The Oracle VM VirtualBox GINA module is implemented as a wrapper
          around the <code class="filename">MSGINA.DLL</code> standard Windows
          GINA module. As a result, it might not work correctly with
          third-party GINA modules.
        </p></div><p>
        To manually install the Oracle VM VirtualBox credential provider
        module, extract the Guest Additions as shown in
        <a href="ch04.html#windows-guest-file-extraction" title="4.2.1.4. Manual File Extraction">Section 4.2.1.4, &#8220;Manual File Extraction&#8221;</a> and copy the
        <code class="filename">VBoxCredProv.dll</code> file to the Windows
        <code class="filename">SYSTEM32</code> directory. In the registry, create
        the following keys:
      </p><pre class="screen">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\
Authentication\Credential Providers\{275D3BCC-22BB-4948-A7F6-3A3054EBA92B}

HKEY_CLASSES_ROOT\CLSID\{275D3BCC-22BB-4948-A7F6-3A3054EBA92B}

HKEY_CLASSES_ROOT\CLSID\{275D3BCC-22BB-4948-A7F6-3A3054EBA92B}\InprocServer32</pre><p>
        All default values, the key named <code class="literal">Default</code>,
        must be set to <code class="literal">VBoxCredProv</code>.
      </p><p>
        Create the following string and assign it a value of
        <code class="literal">Apartment</code>.
      </p><pre class="screen">HKEY_CLASSES_ROOT\CLSID\{275D3BCC-22BB-4948-A7F6-3A3054EBA92B}\InprocServer32\ThreadingModel</pre><p>
        To set credentials, use the following command on a
        <span class="emphasis"><em>running</em></span> VM:
      </p><pre class="screen">$ VBoxManage controlvm "Windows XP" setcredentials "John Doe" "secretpassword" "DOMTEST"</pre><p>
        While the VM is running, the credentials can be queried by the
        Oracle VM VirtualBox login modules, GINA or credential provider, using
        the Oracle VM VirtualBox Guest Additions device driver. When Windows
        is in <span class="emphasis"><em>logged out</em></span> mode, the login modules
        will constantly poll for credentials and if they are present, a
        login will be attempted. After retrieving the credentials, the
        login modules will erase them so that the above command will
        have to be repeated for subsequent logins.
      </p><p>
        For security reasons, credentials are not stored in any
        persistent manner and will be lost when the VM is reset. Also,
        the credentials are write-only. There is no way to retrieve the
        credentials from the host side. Credentials can be reset from
        the host side by setting empty values.
      </p><p>
        Depending on the Windows guest version, the following
        restrictions apply:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            For <span class="bold"><strong>Windows XP guests.</strong></span> The
            login subsystem needs to be configured to use the classic
            login dialog, as the Oracle VM VirtualBox GINA module does not
            support the Windows XP-style welcome dialog.
          </p></li><li><p>
            <span class="bold"><strong>Windows Vista, Windows 7, Windows 8,
            and Windows 10 guests.</strong></span> The login subsystem does
            not support the so-called Secure Attention Sequence,
            <code class="literal">Ctrl+Alt+Del</code>. As a result, the guest's
            group policy settings need to be changed to not use the
            Secure Attention Sequence. Also, the user name given is only
            compared to the true user name, not the user friendly name.
            This means that when you rename a user, you still have to
            supply the original user name as Windows never renames user
            accounts internally.
          </p></li><li><p>
            Automatic login handling of the built-in
            <span class="bold"><strong>Windows Remote Desktop
            Service</strong></span>, formerly known as Terminal Services, is
            disabled by default. To enable it, create the following
            registry key with a <code class="literal">DWORD</code> value of
            <code class="literal">1</code>.
          </p><pre class="screen">HKEY_LOCAL_MACHINE\SOFTWARE\Oracle\VirtualBox Guest Additions\AutoLogon</pre></li></ul></div><p>
        The following command forces Oracle VM VirtualBox to keep the
        credentials after they were read by the guest and on VM reset:
      </p><pre class="screen">$ VBoxManage setextradata "Windows XP" VBoxInternal/Devices/VMMDev/0/Config/KeepCredentials 1</pre><p>
        Note that this is a potential security risk, as a malicious
        application running on the guest could request this information
        using the proper interface.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="autologon_unix"></a>9.1.2. Automated Linux and UNIX Guest Logins</h3></div></div></div><p>
        Oracle VM VirtualBox provides a custom PAM module (Pluggable
        Authentication Module) which can be used to perform automated
        guest logins on platforms which support this framework.
        Virtually all modern Linux and UNIX distributions rely on PAM.
      </p><p>
        For automated logins on Ubuntu, or Ubuntu-derived, distributions
        using LightDM as the display manager. See
        <a href="ch09.html#autologon_unix_lightdm" title="9.1.2.1. Oracle VM VirtualBox Greeter for Ubuntu/LightDM">Section 9.1.2.1, &#8220;Oracle VM VirtualBox Greeter for Ubuntu/LightDM&#8221;</a>.
      </p><p>
        The <code class="filename">pam_vbox.so</code> module itself
        <span class="emphasis"><em>does not</em></span> do an actual verification of the
        credentials passed to the guest OS. Instead it relies on other
        modules such as <code class="filename">pam_unix.so</code> or
        <code class="filename">pam_unix2.so</code> down in the PAM stack to do
        the actual validation using the credentials retrieved by
        <code class="filename">pam_vbox.so</code>. Therefore
        <code class="filename">pam_vbox.so</code> has to be on top of the
        authentication PAM service list.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The <code class="filename">pam_vbox.so</code> module only supports the
          <code class="literal">auth</code> primitive. Other primitives such as
          <code class="literal">account</code>, <code class="literal">session</code>, or
          <code class="literal">password</code> are not supported.
        </p></div><p>
        The <code class="filename">pam_vbox.so</code> module is shipped as part
        of the Guest Additions but it is not installed and/or activated
        on the guest OS by default. In order to install it, it has to be
        copied from
        <code class="filename">/opt/VBoxGuestAdditions-<em class="replaceable"><code>version</code></em>/other/</code>
        to the security modules directory. This is usually
        <code class="filename">/lib/security/</code> on 32-bit Linux guests or
        <code class="filename">/lib64/security/</code> on 64-bit Linux guests.
        Please refer to your guest OS documentation for the correct PAM
        module directory.
      </p><p>
        For example, to use <code class="filename">pam_vbox.so</code> with a
        Ubuntu Linux guest OS and the GNOME Desktop Manager (GDM) to log
        in users automatically with the credentials passed by the host,
        configure the guest OS as follows:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Copy the <code class="filename">pam_vbox.so</code> module to the
            security modules directory. In this case,
            <code class="filename">/lib/security</code>.
          </p></li><li><p>
            Edit the PAM configuration file for GDM, found at
            <code class="filename">/etc/pam.d/gdm</code>. Add the line
            <code class="literal">auth requisite pam_vbox.so</code> at the top.
            Additionally, in most Linux distributions there is a file
            called <code class="filename">/etc/pam.d/common-auth</code>. This
            file is included in many other services, like the GDM file
            mentioned above. There you also have to add the line
            <code class="literal">auth requisite pam_vbox.so</code>.
          </p></li><li><p>
            If authentication against the shadow database using
            <code class="filename">pam_unix.so</code> or
            <code class="filename">pam_unix2.so</code> is desired, the argument
            <code class="literal">try_first_pass</code> for
            <code class="filename">pam_unix.so</code> or
            <code class="literal">use_first_pass</code> for
            <code class="filename">pam_unix2.so</code> is needed in order to pass
            the credentials from the Oracle VM VirtualBox module to the shadow
            database authentication module. For Ubuntu, this needs to be
            added to <code class="filename">/etc/pam.d/common-auth</code>, to the
            end of the line referencing
            <code class="filename">pam_unix.so</code>. This argument tells the
            PAM module to use credentials already present in the stack,
            such as the ones provided by the Oracle VM VirtualBox PAM module.
          </p></li></ol></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          An incorrectly configured PAM stack can effectively prevent
          you from logging into your guest system.
        </p></div><p>
        To make deployment easier, you can pass the argument
        <code class="literal">debug</code> right after the
        <code class="filename">pam_vbox.so</code> statement. Debug log output
        will then be recorded using syslog.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          By default, <span><strong class="command">pam_vbox</strong></span> does not wait for
          credentials to arrive from the host. When a login prompt is
          shown, for example by GDM/KDM or the text console, and
          <span><strong class="command">pam_vbox</strong></span> does not yet have credentials it
          does not wait until they arrive. Instead the next module in
          the PAM stack, depending on the PAM configuration, will have
          the chance for authentication.
        </p></div><p>
        <span><strong class="command">pam_vbox</strong></span> supports various guest property
        parameters that are located in
        <code class="filename">/VirtualBox/GuestAdd/PAM/</code>. These parameters
        allow <span><strong class="command">pam_vbox</strong></span> to wait for credentials to be
        provided by the host and optionally can show a message while
        waiting for those. The following guest properties can be set:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            <code class="literal">CredsWait</code>: Set to 1 if
            <span><strong class="command">pam_vbox</strong></span> should start waiting until
            credentials arrive from the host. Until then no other
            authentication methods such as manually logging in will be
            available. If this property is empty or gets deleted no
            waiting for credentials will be performed and
            <span><strong class="command">pam_vbox</strong></span> will act like before. This
            property must be set read-only for the guest
            (<code class="literal">RDONLYGUEST</code>).
          </p></li><li><p>
            <code class="literal">CredsWaitAbort</code>: Aborts waiting for
            credentials when set to any value. Can be set from host and
            the guest.
          </p></li><li><p>
            <code class="literal">CredsWaitTimeout</code>: Timeout, in seconds, to
            let <span><strong class="command">pam_vbox</strong></span> wait for credentials to
            arrive. When no credentials arrive within this timeout,
            authentication of <span><strong class="command">pam_vbox</strong></span> will be set to
            failed and the next PAM module in chain will be asked. If
            this property is not specified, set to 0 or an invalid
            value, an infinite timeout will be used. This property must
            be set read-only for the guest
            (<code class="literal">RDONLYGUEST</code>).
          </p></li></ul></div><p>
        To customize <span><strong class="command">pam_vbox</strong></span> further there are the
        following guest properties:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            <code class="literal">CredsMsgWaiting</code>: Custom message showed
            while pam_vbox is waiting for credentials from the host.
            This property must be set read-only for the guest
            (<code class="literal">RDONLYGUEST</code>).
          </p></li><li><p>
            <code class="literal">CredsMsgWaitTimeout</code>: Custom message
            showed when waiting for credentials by
            <span><strong class="command">pam_vbox</strong></span> has timed out. For example, they
            did not arrive within time. This property must be set
            read-only for the guest (<code class="literal">RDONLYGUEST</code>).
          </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If a <span><strong class="command">pam_vbox</strong></span> guest property does not have
          the correct flag set (<code class="literal">RDONLYGUEST</code>) the
          property is ignored and, depending on the property, a default
          value will be used. This can result in pam_vbox not waiting
          for credentials. Consult the appropriate syslog file for more
          information and use the <code class="literal">debug</code> option.
        </p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="autologon_unix_lightdm"></a>9.1.2.1. Oracle VM VirtualBox Greeter for Ubuntu/LightDM</h4></div></div></div><p>
          Oracle VM VirtualBox comes with a greeter module, named
          <span><strong class="command">vbox-greeter</strong></span>, that can be used with
          LightDM. LightDM is the default display manager for Ubuntu
          Linux and therefore can also be used for automated guest
          logins.
        </p><p>
          <span><strong class="command">vbox-greeter</strong></span> does not need the
          <span><strong class="command">pam_vbox</strong></span> module described in
          <a href="ch09.html#autologon_unix" title="9.1.2. Automated Linux and UNIX Guest Logins">Section 9.1.2, &#8220;Automated Linux and UNIX Guest Logins&#8221;</a>in order to function. It comes
          with its own authentication mechanism provided by LightDM.
          However, to provide maximum flexibility both modules can be
          used together on the same guest.
        </p><p>
          As with the <span><strong class="command">pam_vbox</strong></span> module,
          <span><strong class="command">vbox-greeter</strong></span> is shipped as part of the
          Guest Additions but it is not installed or activated on the
          guest OS by default. To install
          <span><strong class="command">vbox-greeter</strong></span> automatically upon Guest
          Additions installation, use the
          <code class="option">--with-autologon</code> option when starting the
          <span><strong class="command">VBoxLinuxAdditions.run</strong></span> file:
        </p><pre class="screen"># ./VBoxLinuxAdditions.run -- --with-autologon</pre><p>
          For manual or postponed installation, copy the
          <code class="filename">vbox-greeter.desktop</code> file from
          <code class="filename">/opt/VBoxGuestAdditions-&lt;version&gt;/other/</code>
          to the <code class="filename">xgreeters</code> directory, which is
          usually <code class="filename">/usr/share/xgreeters/</code>. See your
          guest OS documentation for the name of the correct LightDM
          greeter directory.
        </p><p>
          The <span><strong class="command">vbox-greeter</strong></span> module is installed by the
          Oracle VM VirtualBox Guest Additions installer and is located in
          <code class="filename">/usr/sbin/</code>. To enable
          <span><strong class="command">vbox-greeter</strong></span> as the standard greeter
          module, edit the file
          <code class="filename">/etc/lightdm/lightdm.conf</code> as follows:
        </p><pre class="screen">[SeatDefaults]
greeter-session=vbox-greeter</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><div class="itemizedlist"><ul type="disc"><li><p>
                The LightDM server must be fully restarted in order for
                <span><strong class="command">vbox-greeter</strong></span> to be used as the
                default greeter. As <code class="literal">root</code> on Ubuntu,
                run <span><strong class="command">service lightdm --full-restart</strong></span> or
                restart the guest.
              </p></li><li><p>
                <span><strong class="command">vbox-greeter</strong></span> is independent of the
                graphical session you choose, such as Gnome, KDE, or
                Unity. However, <span><strong class="command">vbox-greeter</strong></span> does
                require FLTK 1.3 or later to implement its own user
                interface.
              </p></li></ul></div></div><p>
          There are numerous guest properties which can be used to
          further customize the login experience. For automatically
          logging in users, the same guest properties apply as for
          <span><strong class="command">pam_vbox</strong></span>. See
          <a href="ch09.html#autologon_unix" title="9.1.2. Automated Linux and UNIX Guest Logins">Section 9.1.2, &#8220;Automated Linux and UNIX Guest Logins&#8221;</a>.
        </p><p>
          In addition to the previously mentioned guest properties,
          <span><strong class="command">vbox-greeter</strong></span> enables you to further
          customize its user interface. The following guest properties
          are located in the
          <code class="filename">/VirtualBox/GuestAdd/Greeter/</code> directory:
        </p><div class="itemizedlist"><ul type="disc"><li><p>
              <code class="literal">HideRestart</code>: Set to 1 if
              <span><strong class="command">vbox-greeter</strong></span> should hide the button to
              restart the guest. This property must be set read-only for
              the guest (<code class="literal">RDONLYGUEST</code>).
            </p></li><li><p>
              <code class="literal">HideShutdown</code>: Set to 1 if
              <span><strong class="command">vbox-greeter</strong></span> should hide the button to
              shutdown the guest. This property must be set read-only
              for the guest (<code class="literal">RDONLYGUEST</code>).
            </p></li><li><p>
              <code class="literal">BannerPath</code>: Path to a
              <code class="filename">.PNG</code> file to use as a banner image on
              the top of the greeter. The image size must be 460 x 90
              pixels, any bit depth. This property must be set read-only
              for the guest (<code class="literal">RDONLYGUEST</code>).
            </p></li><li><p>
              <code class="literal">UseTheming</code>: Set to 1 for turning on the
              following theming options. This property must be set
              read-only for the guest (<code class="literal">RDONLYGUEST</code>).
            </p></li><li><p>
              <code class="literal">Theme/BackgroundColor</code>: Hexadecimal
              RRGGBB color for the background. This property must be set
              read-only for the guest (<code class="literal">RDONLYGUEST</code>).
            </p></li><li><p>
              <code class="literal">Theme/LogonDialog/HeaderColor</code>:
              Hexadecimal RRGGBB foreground color for the header text.
              This property must be set read-only for the guest
              (<code class="literal">RDONLYGUEST</code>).
            </p></li><li><p>
              <code class="literal">Theme/LogonDialog/BackgroundColor</code>:
              Hexadecimal RRGGBB color for the login dialog background.
              This property must be set read-only for the guest
              (<code class="literal">RDONLYGUEST</code>).
            </p></li><li><p>
              <code class="literal">Theme/LogonDialog/ButtonColor</code>:
              Hexadecimal RRGGBB background color for the login dialog
              button. This property must be set read-only for the guest
              (<code class="literal">RDONLYGUEST</code>).
            </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
            The same restrictions for the guest properties above apply
            as for the ones specified in the <code class="literal">pam_vbox</code>
            section.
          </p></div></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="adv-config-win-guest"></a>9.2. Advanced Configuration for Windows Guests</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="sysprep"></a>9.2.1. Automated Windows System Preparation</h3></div></div></div><p>
        Microsoft offers a system preparation tool called Sysprep, to
        prepare a Windows system for deployment or redistribution. Some
        Windows releases include Sysprep on the installation medium, but
        the tool is also available for download from the Microsoft web
        site. In a standard For most Windows versions, Sysprep is
        included in a default installation. Sysprep mainly consists of
        an executable called <span><strong class="command">sysprep.exe</strong></span> which is
        invoked by the user to put the Windows installation into
        preparation mode.
      </p><p>
        The Guest Additions offer a way to launch a system preparation
        on the guest operating system in an automated way, controlled
        from the host system. See
        <a href="ch04.html#guestadd-guestcontrol" title="4.9. Guest Control of Applications">Section 4.9, &#8220;Guest Control of Applications&#8221;</a> for details of how to
        use this feature with the special identifier
        <code class="literal">sysprep</code> as the program to execute, along with
        the user name <code class="literal">sysprep</code> and password
        <code class="literal">sysprep</code> for the credentials. Sysprep is then
        started with the required system rights.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Specifying the location of <span><strong class="command">sysprep.exe</strong></span> is
          <span class="bold"><strong>not possible</strong></span>. Instead the
          following paths are used, based on the Windows release:
        </p><div class="itemizedlist"><ul type="disc"><li><p>
              <code class="filename">C:\sysprep\sysprep.exe</code> for Windows XP
              and earlier
            </p></li><li><p>
              <code class="filename">%WINDIR%\System32\sysprep\sysprep.exe</code>
              for Windows Vista and later
            </p></li></ul></div><p>
          The Guest Additions will automatically use the appropriate
          path to execute the system preparation tool.
        </p></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="adv-config-linux-guest"></a>9.3. Advanced Configuration for Linux and Oracle Solaris Guests</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="linux-guest-manual-setup"></a>9.3.1. Manual Setup of Selected Guest Services on Linux</h3></div></div></div><p>
        The Oracle VM VirtualBox Guest Additions contain several different
        drivers. If you do not want to configure them all, use the
        following command to install the Guest Additions:
      </p><pre class="screen">$ sh ./VBoxLinuxAdditions.run no_setup</pre><p>
        After running this script, run the <span><strong class="command">rcvboxadd
        setup</strong></span> command as <code class="literal">root</code> to compile
        the kernel modules.
      </p><p>
        On some 64-bit guests, you must replace <code class="filename">lib</code>
        with <code class="filename">lib64</code>. On older guests that do not run
        the <span><strong class="command">udev</strong></span> service, you must add the
        <span><strong class="command">vboxadd</strong></span> service to the default runlevel to
        ensure that the modules are loaded.
      </p><p>
        To set up the time synchronization service, add the
        <span><strong class="command">vboxadd-service</strong></span> service to the default
        runlevel. To set up the X11 and OpenGL part of the Guest
        Additions, run the <span><strong class="command">rcvboxadd-x11 setup</strong></span>
        command. Note that you do not need to enable additional
        services.
      </p><p>
        Use the <span><strong class="command">rcvboxadd setup</strong></span> to recompile the
        guest kernel modules.
      </p><p>
        After compilation, reboot your guest to ensure that the new
        modules are loaded.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="guestxorgsetup"></a>9.3.2. Guest Graphics and Mouse Driver Setup in Depth</h3></div></div></div><p>
        This section assumes that you are familiar with configuring the
        X.Org server using xorg.conf and optionally the newer mechanisms
        using hal or udev and xorg.conf.d. If not you can learn about
        them by studying the documentation which comes with X.Org.
      </p><p>
        The Oracle VM VirtualBox Guest Additions includes drivers for X.Org.
        By default these drivers are in the following directory:
      </p><p>
        <code class="filename">/opt/VBoxGuestAdditions-<em class="replaceable"><code>version</code></em>/other/</code>
      </p><p>
        The correct versions for the X server are symbolically linked
        into the X.Org driver directories.
      </p><p>
        For graphics integration to work correctly, the X server must
        load the <code class="literal">vboxvideo</code> driver. Many recent X
        server versions look for it automatically if they see that they
        are running in Oracle VM VirtualBox. For an optimal user experience,
        the guest kernel drivers must be loaded and the Guest Additions
        tool <span><strong class="command">VBoxClient</strong></span> must be running as a client
        in the X session.
      </p><p>
        For mouse integration to work correctly, the guest kernel
        drivers must be loaded. In addition, for legacy X servers the
        correct <code class="literal">vboxmouse</code> driver must be loaded and
        associated with <code class="filename">/dev/mouse</code> or
        <code class="filename">/dev/psaux</code>. For most guests, a driver for a
        PS/2 mouse must be loaded and the correct vboxmouse driver must
        be associated with <code class="filename">/dev/vboxguest</code>.
      </p><p>
        The Oracle VM VirtualBox guest graphics driver can use any graphics
        configuration for which the virtual resolution fits into the
        virtual video memory allocated to the virtual machine, minus a
        small amount used by the guest driver, as described in
        <a href="ch03.html#settings-display" title="3.6. Display Settings">Section 3.6, &#8220;Display Settings&#8221;</a>. The driver will offer a
        range of standard modes at least up to the default guest
        resolution for all active guest monitors. The default mode can
        be changed by setting the output property VBOX_MODE to
        "&lt;width&gt;x&lt;height&gt;" for any guest monitor. When
        VBoxClient and the kernel drivers are active this is done
        automatically when the host requests a mode change. The driver
        for older versions can only receive new modes by querying the
        host for requests at regular intervals.
      </p><p>
        With legacy X Servers before version 1.3, you can also add your
        own modes to the X server configuration file. Add them to the
        "Modes" list in the "Display" subsection of the "Screen"
        section. For example, the following section has a custom
        2048x800 resolution mode added:
      </p><pre class="screen">Section "Screen"
        Identifier    "Default Screen"
        Device        "VirtualBox graphics card"
        Monitor       "Generic Monitor"
        DefaultDepth  24
        SubSection "Display"
                Depth         24
                Modes         "2048x800" "800x600" "640x480"
        EndSubSection
EndSection</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cpuhotplug"></a>9.4. CPU Hot-Plugging</h2></div></div></div><p>
      With virtual machines running modern server operating systems,
      Oracle VM VirtualBox supports CPU hot-plugging.
    </p><p>
      On a physical computer CPU hot-plugging would mean that a CPU can
      be added or removed while the machine is running. Oracle VM VirtualBox
      supports adding and removing of virtual CPUs while a virtual
      machine is running.
    </p><p>
      CPU hot-plugging works only with guest operating systems that
      support the feature. So far this applies only to Linux and Windows
      Server. Windows supports only hot-add, while Linux supports
      hot-add and hot-remove. To use this feature with more than 8 CPUs,
      a 64-bit Linux guest is required.
    </p><p>
      CPU hot-plugging is done using the <span><strong class="command">VBoxManage</strong></span>
      command-line interface. First, hot-plugging needs to be enabled
      for a virtual machine:
    </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --cpuhotplug on</pre><p>
      The <code class="option">--cpus</code> option is used to specify the maximum
      number of CPUs that the virtual machine can have:
    </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --cpus 8</pre><p>
      When the VM is off, you can then add and remove virtual CPUs with
      the <span><strong class="command">VBoxManage modifyvm --plugcpu</strong></span> and
      <span><strong class="command">VBoxManage modifyvm --unplugcpu</strong></span> commands, which
      take the number of the virtual CPU as a parameter, as follows:
    </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --plugcpu 3
$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --unplugcpu 3</pre><p>
      Note that CPU 0 can never be removed.
    </p><p>
      While the VM is running, CPUs can be added and removed with the
      <span><strong class="command">VBoxManage controlvm plugcpu</strong></span> and
      <span><strong class="command">VBoxManage controlvm unplugcpu</strong></span> commands
      instead, as follows:
    </p><pre class="screen">$ VBoxManage controlvm <em class="replaceable"><code>VM-name</code></em> plugcpu 3
$ VBoxManage controlvm <em class="replaceable"><code>VM-name</code></em> unplugcpu 3</pre><p>
      See <a href="ch08.html#vboxmanage-modifyvm" title="8.8. VBoxManage modifyvm">Section 8.8, &#8220;VBoxManage modifyvm&#8221;</a> and
      <a href="ch08.html#vboxmanage-controlvm" title="8.13. VBoxManage controlvm">Section 8.13, &#8220;VBoxManage controlvm&#8221;</a> for details.
    </p><p>
      With Linux guests, the following applies:
    </p><p>
      To prevent ejection while the CPU is still used it has to be
      ejected from within the guest before. The Linux Guest Additions
      contain a service which receives hot-remove events and ejects the
      CPU. Also, after a CPU is added to the VM it is not automatically
      used by Linux. The Linux Guest Additions service will take care of
      that if installed. If not a CPU can be started with the following
      command:
    </p><pre class="screen">$ echo 1 &gt; /sys/devices/system/cpu/cpu&lt;id&gt;/online</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="webcam-passthrough"></a>9.5. Webcam Passthrough</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="webcam-using-guest"></a>9.5.1. Using a Host Webcam in the Guest</h3></div></div></div><p>
        Oracle VM VirtualBox includes a feature called <span class="emphasis"><em>webcam
        passthrough</em></span>, which enables a guest to use a host
        webcam. This complements the general USB passthrough support
        which was the typical way of using host webcams in legacy
        releases. The webcam passthrough support can handle non-USB
        video sources in theory, but this is completely untested.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The webcam passthrough module is shipped as part of the
          Oracle VM VirtualBox extension pack, which must be installed
          separately. See <a href="ch01.html#intro-installing" title="1.5. Installing Oracle VM VirtualBox and Extension Packs">Section 1.5, &#8220;Installing Oracle VM VirtualBox and Extension Packs&#8221;</a>.
        </p></div><p>
        The host webcam can be attached to the VM using the
        <span class="bold"><strong>Devices</strong></span> menu in the VM menu
        bar. The <span class="bold"><strong>Webcams</strong></span> menu contains
        a list of available video input devices on the host. Clicking on
        a webcam name attaches or detaches the corresponding host
        device.
      </p><p>
        The <span><strong class="command">VBoxManage</strong></span> command line tool can be used
        to enable webcam passthrough. Please see the host-specific
        sections below for additional details. The following commands
        are available:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Get a list of host webcams, or other video input devices:
          </p><pre class="screen">$ VBoxManage list webcams</pre><p>
            The output format is as follows:
          </p><pre class="screen">alias "user friendly name"
host path or identifier</pre><p>
            The alias can be used as a shortcut in other commands. Alias
            '.0' means the default video input device on the host. Alias
            '.1', '.2'means first, second video input device, and so on.
            The device order is host-specific.
          </p></li><li><p>
            Attach a webcam to a running VM, as follows:
          </p><pre class="screen">VBoxManage controlvm <em class="replaceable"><code>VM name</code></em> webcam attach [<em class="replaceable"><code>host_path</code></em>|<em class="replaceable"><code>alias</code></em> [<em class="replaceable"><code>settings</code></em>]]</pre><p>
            This attaches a USB webcam device to the guest.
          </p><p>
            The <code class="literal">settings</code> parameter is a string
            <code class="literal">Setting1=Value1;Setting2=Value2</code>, which
            enables you to configure the emulated webcam device. The
            following settings are supported:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <code class="literal">MaxFramerate</code>: The highest rate at
                which video frames are sent to the guest. A higher frame
                rate requires more CPU power. Therefore sometimes it is
                useful to set a lower limit. Default is no limit and
                allow the guest to use all frame rates supported by the
                host webcam.
              </p></li><li><p>
                <code class="literal">MaxPayloadTransferSize</code>: How many
                bytes the emulated webcam can send to the guest at a
                time. Default value is 3060 bytes, which is used by some
                webcams. Higher values can slightly reduce CPU load, if
                the guest is able to use larger buffers. However, a high
                <code class="literal">MaxPayloadTransferSize</code> might be not
                supported by some guests.
              </p></li></ul></div></li><li><p>
            Detach a webcam from a running VM, as follows:
          </p><pre class="screen">VBoxManage controlvm <em class="replaceable"><code>VM-name</code></em> webcam detach [<em class="replaceable"><code>host_path</code></em>|<em class="replaceable"><code>alias</code></em>]</pre></li><li><p>
            List the webcams attached to a running VM, as follows:
          </p><pre class="screen">VBoxManage controlvm <em class="replaceable"><code>VM-name</code></em> webcam list</pre><p>
            The output contains the path or alias which was used in the
            <span><strong class="command">webcam attach</strong></span> command for each attached
            webcam.
          </p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="webcam-win-hosts"></a>9.5.2. Windows Hosts</h3></div></div></div><p>
        When the webcam device is detached from the host, the emulated
        webcam device is automatically detached from the guest.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="webcam-mac-hosts"></a>9.5.3. Mac OS X Hosts</h3></div></div></div><p>
        Mac OS X version 10.9 or later is required.
      </p><p>
        When the webcam device is detached from the host, the emulated
        webcam device remains attached to the guest and must be manually
        detached using the <span><strong class="command">VBoxManage controlvm
        <em class="replaceable"><code>VM-name</code></em> webcam detach</strong></span>
        command.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="webcam-linux-hosts"></a>9.5.4. Linux and Oracle Solaris Hosts</h3></div></div></div><p>
        When the webcam is detached from the host the emulated webcam
        device is automatically detached from the guest only if the
        webcam is streaming video. If the emulated webcam is inactive it
        should be manually detached using the <span><strong class="command">VBoxManage
        controlvm <em class="replaceable"><code>VM-name</code></em> webcam
        detach</strong></span> command.
      </p><p>
        Aliases <code class="filename">.0</code> and <code class="filename">.1</code> are
        mapped to <code class="filename">/dev/video0</code>, alias
        <code class="filename">.2</code> is mapped to
        <code class="filename">/dev/video1</code> and so forth.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="adv-display-config"></a>9.6. Advanced Display Configuration</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="customvesa"></a>9.6.1. Custom VESA Resolutions</h3></div></div></div><p>
        Apart from the standard VESA resolutions, the Oracle VM VirtualBox
        VESA BIOS enables you to add up to 16 custom video modes which
        will be reported to the guest operating system. When using
        Windows guests with the Oracle VM VirtualBox Guest Additions, a custom
        graphics driver will be used instead of the fallback VESA
        solution so this information does not apply.
      </p><p>
        Additional video modes can be configured for each VM using the
        extra data facility. The extra data key is called
        <code class="literal">CustomVideoMode<em class="replaceable"><code>x</code></em></code>
        with <em class="replaceable"><code>x</code></em> being a number from 1 to 16.
        Please note that modes will be read from 1 until either the
        following number is not defined or 16 is reached. The following
        example adds a video mode that corresponds to the native display
        resolution of many notebook computers:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "CustomVideoMode1" "1400x1050x16"</pre><p>
        The VESA mode IDs for custom video modes start at
        <code class="literal">0x160</code>. In order to use the above defined
        custom video mode, the following command line has to be supplied
        to Linux:
      </p><pre class="screen">vga = 0x200 | 0x160
vga = 864</pre><p>
        For guest operating systems with Oracle VM VirtualBox Guest Additions,
        a custom video mode can be set using the video mode hint
        feature.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="max-resolution-guests"></a>9.6.2. Configuring the Maximum Resolution of Guests When Using the Graphical
        Frontend</h3></div></div></div><p>
        When guest systems with the Guest Additions installed are
        started using the graphical frontend, the normal Oracle VM VirtualBox
        application, they will not be allowed to use screen resolutions
        greater than the host's screen size unless the user manually
        resizes them by dragging the window, switching to full screen or
        seamless mode or sending a video mode hint using
        <span><strong class="command">VBoxManage</strong></span>. This behavior is what most users
        will want, but if you have different needs, you can change it by
        issuing one of the following commands from the command line:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Remove all limits on guest resolutions.
          </p><pre class="screen">VBoxManage setextradata global GUI/MaxGuestResolution any</pre></li><li><p>
            Manually specify a maximum resolution.
          </p><pre class="screen">VBoxManage setextradata global GUI/MaxGuestResolution <em class="replaceable"><code>width</code></em>x<em class="replaceable"><code>height</code></em></pre></li><li><p>
            Restore the default settings to all guest VMs.
          </p><pre class="screen">VBoxManage setextradata global GUI/MaxGuestResolution auto</pre></li></ul></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="adv-storage-config"></a>9.7. Advanced Storage Configuration</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="rawdisk"></a>9.7.1. Using a Raw Host Hard Disk From a Guest</h3></div></div></div><p>
        As an alternative to using virtual disk images as described in
        <a href="ch05.html" title="Chapter 5. Virtual Storage">Chapter 5, <i>Virtual Storage</i></a>, Oracle VM VirtualBox can also present
        either entire physical hard disks or selected partitions as
        virtual disks to virtual machines.
      </p><p>
        With Oracle VM VirtualBox, this type of access is called <span class="emphasis"><em>raw
        hard disk access</em></span>. It enables a guest operating system
        to access its virtual hard disk without going through the host
        OS file system. The actual performance difference for image
        files compared to raw disk varies greatly depending on the
        overhead of the host file system, whether dynamically growing
        images are used, and on host OS caching strategies. The caching
        indirectly also affects other aspects such as failure behavior.
        For example, whether the virtual disk contains all data written
        before a host OS crash. Consult your host OS documentation for
        details on this.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          Raw hard disk access is for expert users only. Incorrect use
          or use of an outdated configuration can lead to
          <span class="bold"><strong>total loss of data</strong></span> on the
          physical disk. Most importantly, <span class="emphasis"><em>do not</em></span>
          attempt to boot the partition with the currently running host
          operating system in a guest. This will lead to severe data
          corruption.
        </p></div><p>
        Raw hard disk access, both for entire disks and individual
        partitions, is implemented as part of the VMDK image format
        support. As a result, you will need to create a special VMDK
        image file which defines where the data will be stored. After
        creating such a special VMDK image, you can use it like a
        regular virtual disk image. For example, you can use the
        VirtualBox Manager, see <a href="ch05.html#vdis" title="5.3. The Virtual Media Manager">Section 5.3, &#8220;The Virtual Media Manager&#8221;</a>, or
        <span><strong class="command">VBoxManage</strong></span> to assign the image to a virtual
        machine.
      </p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="rawdisk-access-entire-physical-disk"></a>9.7.1.1. Access to Entire Physical Hard Disk</h4></div></div></div><p>
          While this variant is the simplest to set up, you must be
          aware that this will give a guest operating system direct and
          full access to an <span class="emphasis"><em>entire physical disk</em></span>.
          If your <span class="emphasis"><em>host</em></span> operating system is also
          booted from this disk, please take special care to not access
          the partition from the guest at all. On the positive side, the
          physical disk can be repartitioned in arbitrary ways without
          having to recreate the image file that gives access to the raw
          disk.
        </p><p>
          On a Linux host, to create an image that represents an entire
          physical hard disk which will not contain any actual data, as
          this will all be stored on the physical disk, use the
          following command:
        </p><pre class="screen">$ VBoxManage internalcommands createrawvmdk -filename \
<em class="replaceable"><code>path-to-file</code></em>.vmdk -rawdisk /dev/sda</pre><p>
          This creates the
          <code class="filename">/<em class="replaceable"><code>path-to-file</code></em>.vmdk</code>
          file image that must be an absolute path. All data is read and
          written from <code class="filename">/dev/sda</code>.
        </p><p>
          On a Windows host, instead of the above device specification,
          for example use <code class="filename">\\.\PhysicalDrive0</code>. On a
          Mac OS X host, instead of the above device specification use
          for example <code class="filename">/dev/disk1</code>. Note that on Mac
          OS X you can only get access to an entire disk if no volume is
          mounted from it.
        </p><p>
          Creating the image requires read/write access for the given
          device. Read/write access is also later needed when using the
          image from a virtual machine. On some host platforms, such as
          Windows, raw disk access may be restricted and not permitted
          by the host OS in some situations.
        </p><p>
          Just like with regular disk images, this does not
          automatically attach the newly created image to a virtual
          machine. This can be done as follows:
        </p><pre class="screen">$ VBoxManage storageattach WindowsXP --storagectl "IDE Controller" \
 --port 0 --device 0 --type hdd --medium <em class="replaceable"><code>path-to-file</code></em>.vmdk</pre><p>
          When this is done the selected virtual machine will boot from
          the specified physical disk.
        </p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="rawdisk-access-disk-partitions"></a>9.7.1.2. Access to Individual Physical Hard Disk Partitions</h4></div></div></div><p>
          This <span class="emphasis"><em>raw partition support</em></span> is quite
          similar to the full hard disk access described above. However,
          in this case, any partitioning information will be stored
          inside the VMDK image. This means that you can install a
          different boot loader in the virtual hard disk without
          affecting the host's partitioning information. While the guest
          will be able to <span class="emphasis"><em>see</em></span> all partitions that
          exist on the physical disk, access will be filtered in that
          reading from partitions for which no access is allowed the
          partitions will only yield zeroes, and all writes to them are
          ignored.
        </p><p>
          To create a special image for raw partition support, which
          will contain a small amount of data, on a Linux host, use the
          command:
        </p><pre class="screen">$ VBoxManage internalcommands createrawvmdk -filename \
<em class="replaceable"><code>path-to-file</code></em>.vmdk -rawdisk /dev/sda -partitions 1,5</pre><p>
          The command is identical to the one for full hard disk access,
          except for the additional <code class="option">-partitions</code>
          parameter. This example would create the image
          <code class="filename">/<em class="replaceable"><code>path-to-file</code></em>.vmdk</code>,
          which must be absolute, and partitions 1 and 5 of
          <code class="filename">/dev/sda</code> would be made accessible to the
          guest.
        </p><p>
          Oracle VM VirtualBox uses the same partition numbering as your Linux
          host. As a result, the numbers given in the above example
          would refer to the first primary partition and the first
          logical drive in the extended partition, respectively.
        </p><p>
          On a Windows host, instead of the above device specification,
          use for example <code class="filename">\\.\PhysicalDrive0</code>. On a
          Mac OS X host, instead of the above device specification use
          <code class="filename">/dev/disk1</code>, for example. Note that on OS
          X you can only use partitions which are not mounted. Eject the
          respective volume first. Partition numbers are the same on
          Linux, Windows, and Mac OS X hosts.
        </p><p>
          The numbers for the list of partitions can be taken from the
          output of the following command:
        </p><pre class="screen">$ VBoxManage internalcommands listpartitions -rawdisk /dev/sda</pre><p>
          The output lists the partition types and sizes to give the
          user enough information to identify the partitions necessary
          for the guest.
        </p><p>
          Images which give access to individual partitions are specific
          to a particular host disk setup. You cannot transfer these
          images to another host. Also, whenever the host partitioning
          changes, the image <span class="emphasis"><em>must be recreated</em></span>.
        </p><p>
          Creating the image requires read/write access for the given
          device. Read/write access is also later needed when using the
          image from a virtual machine. If this is not feasible, there
          is a special variant for raw partition access, currently only
          available on Linux hosts, that avoids having to give the
          current user access to the entire disk. To set up such an
          image, use:
        </p><pre class="screen">$ VBoxManage internalcommands createrawvmdk -filename \
<em class="replaceable"><code>path-to-file</code></em>.vmdk -rawdisk /dev/sda -partitions 1,5 -relative</pre><p>
          When used from a virtual machine, the image will then refer
          not to the entire disk, but only to the individual partitions.
          In this example, <code class="filename">/dev/sda1</code> and
          <code class="filename">/dev/sda5</code>. As a consequence, read/write
          access is only required for the affected partitions, not for
          the entire disk. During creation however, read-only access to
          the entire disk is required to obtain the partitioning
          information.
        </p><p>
          In some configurations it may be necessary to change the MBR
          code of the created image. For example, to replace the Linux
          boot loader that is used on the host by another boot loader.
          This enables for example the guest to boot directly to
          Windows, while the host boots Linux from the "same" disk. For
          this purpose the <code class="option">-mbr</code> option is provided. It
          specifies a file name from which to take the MBR code. The
          partition table is not modified at all, so a MBR file from a
          system with totally different partitioning can be used. An
          example of this is:
        </p><pre class="screen">$ VBoxManage internalcommands createrawvmdk -filename
<em class="replaceable"><code>path-to-file</code></em>.vmdk -rawdisk /dev/sda -partitions 1,5 -mbr winxp.mbr</pre><p>
          The modified MBR will be stored inside the image, not on the
          host disk.
        </p><p>
          The created image can be attached to a storage controller in a
          VM configuration as usual.
        </p></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changevpd"></a>9.7.2. Configuring the Hard Disk Vendor Product Data (VPD)</h3></div></div></div><p>
        Oracle VM VirtualBox reports vendor product data for its virtual hard
        disks which consist of hard disk serial number, firmware
        revision and model number. These can be changed using the
        following commands:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/ahci/0/Config/Port0/SerialNumber" "serial"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/ahci/0/Config/Port0/FirmwareRevision" "firmware"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/ahci/0/Config/Port0/ModelNumber" "model"</pre><p>
        The serial number is a 20 byte alphanumeric string, the firmware
        revision an 8 byte alphanumeric string and the model number a 40
        byte alphanumeric string. Instead of Port0, referring to the
        first port, specify the desired SATA hard disk port.
      </p><p>
        The above commands apply to virtual machines with an AHCI (SATA)
        controller. The commands for virtual machines with an IDE
        controller are:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/piix3ide/0/Config/PrimaryMaster/SerialNumber" "serial"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/piix3ide/0/Config/PrimaryMaster/FirmwareRevision" "firmware"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/piix3ide/0/Config/PrimaryMaster/ModelNumber" "model"</pre><p>
        For hard disks, you can mark the drive as having a
        non-rotational medium by using the following command:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/ahci/0/Config/Port0/NonRotational" "1"</pre><p>
        Additional three parameters are needed for CD/DVD drives to
        report the vendor product data:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/ahci/0/Config/Port0/ATAPIVendorId" "vendor"
VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/ahci/0/Config/Port0/ATAPIProductId" "product"
VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/ahci/0/Config/Port0/ATAPIRevision" "revision"</pre><p>
        The vendor id is an 8 byte alphanumeric string, the product id
        an 16 byte alphanumeric string and the revision a 4 byte
        alphanumeric string. Instead of Port0, referring to the first
        port, specify the desired SATA hard disk port.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="iscsi-intnet"></a>9.7.3. Access iSCSI Targets Using Internal Networking</h3></div></div></div><p>
        As an experimental feature, Oracle VM VirtualBox enables access to an
        iSCSI target running in a virtual machine which is configured to
        use Internal Networking mode. See
        <a href="ch05.html#storage-iscsi" title="5.10. iSCSI Servers">Section 5.10, &#8220;iSCSI Servers&#8221;</a>,
        <a href="ch06.html#network_internal" title="6.6. Internal Networking">Section 6.6, &#8220;Internal Networking&#8221;</a>, and
        <a href="ch08.html#vboxmanage-storageattach" title="8.17. VBoxManage storageattach">Section 8.17, &#8220;VBoxManage storageattach&#8221;</a>.
      </p><p>
        The IP stack accessing Internal Networking must be configured in
        the virtual machine which accesses the iSCSI target. A free
        static IP and a MAC address not used by other virtual machines
        must be chosen. In the example below, adapt the name of the
        virtual machine, the MAC address, the IP configuration, and the
        Internal Networking name (MyIntNet) according to your needs. The
        following eight commands must first be issued:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/Trusted 1
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/Config/MAC 08:00:27:01:02:0f
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/Config/IP 10.0.9.1
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/Config/Netmask 255.255.255.0
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/LUN#0/Driver IntNet
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/LUN#0/Config/Network MyIntNet
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/LUN#0/Config/TrunkType 2
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/IntNetIP/0/LUN#0/Config/IsService 1</pre><p>
        Finally the iSCSI disk must be attached with the
        <code class="option">--intnet</code> option to tell the iSCSI initiator to
        use internal networking, as follows:
      </p><pre class="screen">$ VBoxManage storageattach ... --medium iscsi --server 10.0.9.30 \
--target iqn.2008-12.com.sun:sampletarget --intnet</pre><p>
        Compared to a regular iSCSI setup, the IP address of the target
        <span class="emphasis"><em>must</em></span> be specified as a numeric IP address,
        as there is no DNS resolver for internal networking.
      </p><p>
        The virtual machine with the iSCSI target should be started
        before the VM using it is powered on. If a virtual machine using
        an iSCSI disk is started without having the iSCSI target powered
        up, it can take up to 200 seconds to detect this situation. The
        VM will fail to power up.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="changenat"></a>9.8. Fine Tuning the Oracle VM VirtualBox NAT Engine</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="nat-address-config"></a>9.8.1. Configuring the Address of a NAT Network Interface</h3></div></div></div><p>
        In NAT mode, the guest network interface is assigned to the IPv4
        range <code class="literal">10.0.<em class="replaceable"><code>x</code></em>.0/24</code>
        by default where <em class="replaceable"><code>x</code></em> corresponds to the
        instance of the NAT interface +2. So
        <em class="replaceable"><code>x</code></em> is 2 when there is only one NAT
        instance active. In that case the guest is assigned to the
        address <code class="literal">10.0.2.15</code>, the gateway is set to
        <code class="literal">10.0.2.2</code> and the name server can be found at
        <code class="literal">10.0.2.3</code>.
      </p><p>
        If the NAT network needs to be changed, use the following
        command:
      </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> \
--natnet1 "192.168/16"</pre><p>
        This command would reserve the network addresses from
        <code class="literal">192.168.0.0</code> to
        <code class="literal">192.168.254.254</code> for the first NAT network
        instance of <em class="replaceable"><code>VM-name</code></em> The guest IP
        would be assigned to <code class="literal">192.168.0.15</code> and the
        default gateway could be found at
        <code class="literal">192.168.0.2</code>.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="nat-adv-tftp"></a>9.8.2. Configuring the Boot Server (Next Server) of a NAT Network Interface</h3></div></div></div><p>
        For network booting in NAT mode, by default Oracle VM VirtualBox uses
        a built-in TFTP server at the IP address 10.0.2.4. This default
        behavior should work fine for typical remote-booting scenarios.
        However, it is possible to change the boot server IP and the
        location of the boot image with the following commands:
      </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> \
--nattftpserver1 10.0.2.2
$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> \
--nattftpfile1 /srv/tftp/boot/MyPXEBoot.pxe</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="nat-adv-settings"></a>9.8.3. Tuning TCP/IP Buffers for NAT</h3></div></div></div><p>
        The Oracle VM VirtualBox NAT stack performance is often determined by
        its interaction with the host's TCP/IP stack and the size of
        several buffers, <code class="literal">SO_RCVBUF</code> and
        <code class="literal">SO_SNDBUF</code>. For certain setups users might
        want to adjust the buffer size for a better performance. This
        can by achieved using the following commands, where values are
        in kilobytes and can range from 8 to 1024:
      </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> \
--natsettings1 16000,128,128,0,0</pre><p>
        This example illustrates tuning the NAT settings. The first
        parameter is the MTU, then the size of the socket's send buffer
        and the size of the socket's receive buffer, the initial size of
        the TCP send window, and lastly the initial size of the TCP
        receive window. Note that specifying zero means fallback to the
        default value.
      </p><p>
        Each of these buffers has a default size of 64KB and default MTU
        is 1500.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="nat-bind-sockets"></a>9.8.4. Binding NAT Sockets to a Specific Interface</h3></div></div></div><p>
        By default, Oracle VM VirtualBox's NAT engine will route TCP/IP
        packets through the default interface assigned by the host's
        TCP/IP stack. The technical reason for this is that the NAT
        engine uses sockets for communication. If you want to change
        this behavior, you can tell the NAT engine to bind to a
        particular IP address instead. For example, use the following
        command:
      </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> \
--natbindip1 "10.45.0.2"</pre><p>
        After this, all outgoing traffic will be sent through the
        interface with the IP address 10.45.0.2. Ensure that this
        interface is up and running before changing the NAT bind
        address.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="nat-adv-dns"></a>9.8.5. Enabling DNS Proxy in NAT Mode</h3></div></div></div><p>
        The NAT engine by default offers the same DNS servers to the
        guest that are configured on the host. In some scenarios, it can
        be desirable to hide the DNS server IPs from the guest, for
        example when this information can change on the host due to
        expiring DHCP leases. In this case, you can tell the NAT engine
        to act as DNS proxy using the following command:
      </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --natdnsproxy1 on</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="nat_host_resolver_proxy"></a>9.8.6. Using the Host's Resolver as a DNS Proxy in NAT Mode</h3></div></div></div><p>
        For resolving network names, the DHCP server of the NAT engine
        offers a list of registered DNS servers of the host. If for some
        reason you need to hide this DNS server list and use the host's
        resolver settings, thereby forcing the Oracle VM VirtualBox NAT engine
        to intercept DNS requests and forward them to host's resolver,
        use the following command:
      </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --natdnshostresolver1 on</pre><p>
        Note that this setting is similar to the DNS proxy mode, however
        whereas the proxy mode just forwards DNS requests to the
        appropriate servers, the resolver mode will interpret the DNS
        requests and use the host's DNS API to query the information and
        return it to the guest.
      </p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="nat_host_resolver_name_intercepting"></a>9.8.6.1. User-Defined Host Name Resolving</h4></div></div></div><p>
          In some cases it might be useful to intercept the name
          resolving mechanism, providing a user-defined IP address on a
          particular DNS request. The intercepting mechanism enables the
          user to map not only a single host but domains and even more
          complex naming conventions if required.
        </p><p>
          The following command sets a rule for mapping a name to a
          specified IP:
        </p><pre class="screen">VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/{pcnet,e1000}/0/LUN#0/AttachedDriver/Config/HostResolverMappings/ \
<em class="replaceable"><code>unique-rule-name-of-interception-rule</code></em>/HostIP" <em class="replaceable"><code>IPv4</code></em>

VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/{pcnet,e1000}/0/LUN#0/AttachedDriver/Config/HostResolverMappings/ \
<em class="replaceable"><code>unique-rule-name</code></em>/HostName" <em class="replaceable"><code>hostname</code></em></pre><p>
          The following command sets a rule for mapping a pattern name
          to a specified IP:
        </p><pre class="screen">VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/{pcnet,e1000}/0/LUN#0/AttachedDriver/Config/HostResolverMappings/ \
<em class="replaceable"><code>unique-rule-name</code></em>/HostIP" <em class="replaceable"><code>IPv4</code></em>

VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/{pcnet,e1000}/0/LUN#0/AttachedDriver/Config/HostResolverMappings/ \
<em class="replaceable"><code>unique-rule-name</code></em>/HostNamePattern" <em class="replaceable"><code>hostpattern</code></em></pre><p>
          The host name pattern can include the following wildcard
          characters: pipe (<code class="literal">|</code>), question mark
          (<code class="literal">?</code>), and asterisk (<code class="literal">*</code>).
        </p><p>
          This example demonstrates how to instruct the host-resolver
          mechanism to resolve all domain and probably some mirrors of
          www.blocked-site.info site with IP 127.0.0.1:
        </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/e1000/0/LUN#0/AttachedDriver/Config/HostResolverMappings/all_blocked_site/HostIP" 127.0.0.1
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/e1000/0/LUN#0/AttachedDriver/Config/HostResolverMappings/all_blocked_site/HostNamePattern" "*.blocked-site.*|*.fb.org"</pre><p>
          The host resolver mechanism should be enabled to use
          user-defined mapping rules, otherwise they do not have any
          effect.
        </p></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="nat-adv-alias"></a>9.8.7. Configuring Aliasing of the NAT Engine</h3></div></div></div><p>
        By default, the NAT core uses aliasing and uses random ports
        when generating an alias for a connection. This works well for
        the most protocols like SSH, FTP and so on. Though some
        protocols might need a more transparent behavior or may depend
        on the real port number the packet was sent from. You can change
        the NAT mode by using the following commands:
      </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> \
--nataliasmode1 proxyonly</pre><pre class="screen">$ VBoxManage modifyvm "Linux Guest" --nataliasmode1 sameports</pre><p>
        The first example disables aliasing and switches NAT into
        transparent mode, the second example enforces preserving of port
        values. These modes can be combined if necessary.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="changedmi"></a>9.9. Configuring the BIOS DMI Information</h2></div></div></div><p>
      The DMI data that Oracle VM VirtualBox provides to guests can be changed
      for a specific VM. Use the following commands to configure the DMI
      BIOS information. In case your VM is configured to use EFI
      firmware you need to replace <code class="literal">pcbios</code> by
      <code class="literal">efi</code> in the keys.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          DMI BIOS information (type 0)
        </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBIOSVendor"        "BIOS Vendor"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBIOSVersion"       "BIOS Version"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBIOSReleaseDate"   "BIOS Release Date"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBIOSReleaseMajor"  1
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBIOSReleaseMinor"  2
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBIOSFirmwareMajor" 3
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBIOSFirmwareMinor" 4</pre></li><li><p>
          DMI system information (type 1)
        </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemVendor"      "System Vendor"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemProduct"     "System Product"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemVersion"     "System Version"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemSerial"      "System Serial"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemSKU"         "System SKU"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemFamily"      "System Family"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemUuid" \
"9852bf98-b83c-49db-a8de-182c42c7226b"</pre></li><li><p>
          DMI board information (type 2)
        </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBoardVendor"       "Board Vendor"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBoardProduct"      "Board Product"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBoardVersion"      "Board Version"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBoardSerial"       "Board Serial"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBoardAssetTag"     "Board Tag"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBoardLocInChass"   "Board Location"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiBoardBoardType"    10</pre></li><li><p>
          DMI system enclosure or chassis (type 3)
        </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiChassisVendor"     "Chassis Vendor"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiChassisType"       3
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiChassisVersion"    "Chassis Version"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiChassisSerial"     "Chassis Serial"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiChassisAssetTag"   "Chassis Tag"</pre></li><li><p>
          DMI processor information (type 4)
        </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiProcManufacturer"  "GenuineIntel"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiProcVersion"       "Pentium(R) III"</pre></li><li><p>
          DMI OEM strings (type 11)
        </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiOEMVBoxVer"        "vboxVer_1.2.3"
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiOEMVBoxRev"        "vboxRev_12345"</pre></li></ul></div><p>
      If a DMI string is not set, the default value of Oracle VM VirtualBox is
      used. To set an empty string use
      <code class="literal">"&lt;EMPTY&gt;"</code>.
    </p><p>
      Note that in the above list, all quoted parameters (DmiBIOSVendor,
      DmiBIOSVersion but not DmiBIOSReleaseMajor) are expected to be
      strings. If such a string is a valid number, the parameter is
      treated as number and the VM will most probably refuse to start
      with an <code class="literal">VERR_CFGM_NOT_STRING</code> error. In that
      case, use
      <code class="literal">"string:<em class="replaceable"><code>value</code></em>"</code>. For
      example:
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/pcbios/0/Config/DmiSystemSerial"      "string:1234"</pre><p>
      Changing this information can be necessary to provide the DMI
      information of the host to the guest to prevent Windows from
      asking for a new product key. On Linux hosts, the DMI BIOS
      information can be obtained with the following command:
    </p><pre class="screen">$ dmidecode -t0</pre><p>
      The DMI system information can be obtained as follows:
    </p><pre class="screen">$ dmidecode -t1</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="changeacpicust"></a>9.10. Configuring Custom ACPI Tables</h2></div></div></div><p>
      You can configure Oracle VM VirtualBox to present up to four custom ACPI
      tables to the guest. Use a command such as the following to
      configure custom ACPI tables. Note that
      <code class="literal">CustomTable1</code>, <code class="literal">CustomTable2</code>,
      and <code class="literal">CustomTable3</code> are available in addition to
      <code class="literal">CustomTable0</code>.
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
"VBoxInternal/Devices/acpi/0/Config/CustomTable0" "/<em class="replaceable"><code>path-to-table</code></em>.bin"</pre><p>
      Configuring custom ACPI tables can for example avoid the need for
      asking for a new product key on Windows Vista, Windows 7, Windows
      8 and later guests. On Linux hosts, one of the system's ACPI
      tables can be read from
      <code class="filename">/sys/firmware/acpi/tables/</code>.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="fine-tune-timers"></a>9.11. Fine Tuning Timers and Time Synchronization</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changetscmode"></a>9.11.1. Configuring the Guest Time Stamp Counter (TSC) to Reflect Guest
        Execution</h3></div></div></div><p>
        By default, Oracle VM VirtualBox keeps all sources of time visible to
        the guest synchronized to a single time source, the monotonic
        host time. This reflects the assumptions of many guest operating
        systems, which expect all time sources to reflect "wall clock"
        time. In special circumstances it may be useful however to make
        the time stamp counter (TSC) in the guest reflect the time
        actually spent executing the guest.
      </p><p>
        This special TSC handling mode can be enabled on a per-VM basis,
        and for best results must be used only in combination with
        hardware virtualization. To enable this mode use the following
        command:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "VBoxInternal/TM/TSCTiedToExecution" 1</pre><p>
        To revert to the default TSC handling mode use:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "VBoxInternal/TM/TSCTiedToExecution"</pre><p>
        Note that if you use the special TSC handling mode with a guest
        operating system which is very strict about the consistency of
        time sources you may get a warning or error message about the
        timing inconsistency. It may also cause clocks to become
        unreliable with some guest operating systems depending on how
        they use the TSC.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="warpguest"></a>9.11.2. Accelerate or Slow Down the Guest Clock</h3></div></div></div><p>
        For certain purposes it can be useful to accelerate or to slow
        down the virtual guest clock. This can be achieved as follows:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "VBoxInternal/TM/WarpDrivePercentage" 200</pre><p>
        The above example will double the speed of the guest clock while
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "VBoxInternal/TM/WarpDrivePercentage" 50</pre><p>
        will halve the speed of the guest clock. Note that changing the
        rate of the virtual clock can confuse the guest and can even
        lead to abnormal guest behavior. For instance, a higher clock
        rate means shorter timeouts for virtual devices with the result
        that a slightly increased response time of a virtual device due
        to an increased host load can cause guest failures. Note further
        that any time synchronization mechanism will frequently try to
        resynchronize the guest clock with the reference clock, which is
        the host clock if the Oracle VM VirtualBox Guest Additions are active.
        Therefore any time synchronization should be disabled if the
        rate of the guest clock is changed as described above. See
        <a href="ch09.html#changetimesync" title="9.11.3. Tuning the Guest Additions Time Synchronization Parameters">Section 9.11.3, &#8220;Tuning the Guest Additions Time Synchronization Parameters&#8221;</a>.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="changetimesync"></a>9.11.3. Tuning the Guest Additions Time Synchronization Parameters</h3></div></div></div><p>
        The Oracle VM VirtualBox Guest Additions ensure that the guest's
        system time is synchronized with the host time. There are
        several parameters which can be tuned. The parameters can be set
        for a specific VM using the following command:
      </p><pre class="screen">$ VBoxManage guestproperty set <em class="replaceable"><code>VM-name</code></em> "/VirtualBox/GuestAdd/VBoxService/<em class="replaceable"><code>property</code></em>" <em class="replaceable"><code>value</code></em></pre><p>
        <em class="replaceable"><code>property</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--timesync-interval</code>
          </span></dt><dd><p>
              Specifies the interval at which to synchronize the time
              with the host. The default is 10000 ms (10 seconds).
            </p></dd><dt><span class="term">
            <code class="option">--timesync-min-adjust</code>
          </span></dt><dd><p>
              The minimum absolute drift value measured in milliseconds
              to make adjustments for. The default is 1000 ms on OS/2
              and 100 ms elsewhere.
            </p></dd><dt><span class="term">
            <code class="option">--timesync-latency-factor</code>
          </span></dt><dd><p>
              The factor to multiply the time query latency with to
              calculate the dynamic minimum adjust time. The default is
              8 times, which means as follows:
            </p><p>
              Measure the time it takes to determine the host time, the
              guest has to contact the VM host service which may take
              some time. Multiply this value by 8 and do an adjustment
              only if the time difference between host and guest is
              bigger than this value. Do not do any time adjustment
              otherwise.
            </p></dd><dt><span class="term">
            <code class="option">--timesync-max-latency</code>
          </span></dt><dd><p>
              The max host timer query latency to accept. The default is
              250 ms.
            </p></dd><dt><span class="term">
            <code class="option">--timesync-set-threshold</code>
          </span></dt><dd><p>
              The absolute drift threshold, given as milliseconds where
              to start setting the time instead of trying to smoothly
              adjust it. The default is 20 minutes.
            </p></dd><dt><span class="term">
            <code class="option">--timesync-set-start</code>
          </span></dt><dd><p>
              Set the time when starting the time sync service.
            </p></dd><dt><span class="term">
            <code class="option">--timesync-set-on-restore 0|1</code>
          </span></dt><dd><p>
              Set the time after the VM was restored from a saved state
              when passing 1 as parameter. This is the default. Disable
              by passing 0. In the latter case, the time will be
              adjusted smoothly, which can take a long time.
            </p></dd></dl></div><p>
        All these parameters can be specified as command line parameters
        to VBoxService as well.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="disabletimesync"></a>9.11.4. Disabling the Guest Additions Time Synchronization</h3></div></div></div><p>
        Once installed and started, the Oracle VM VirtualBox Guest Additions
        will try to synchronize the guest time with the host time. This
        can be prevented by forbidding the guest service from reading
        the host clock:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "VBoxInternal/Devices/VMMDev/0/Config/GetHostTimeDisabled" 1</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vboxbowsolaris11"></a>9.12. Installing the Alternate Bridged Networking Driver on Oracle Solaris 11
      Hosts</h2></div></div></div><p>
      Oracle VM VirtualBox includes a network filter driver that utilizes
      Oracle Solaris 11's Crossbow functionality. By default, this new
      driver is installed for Oracle Solaris 11 hosts that have support
      for it.
    </p><p>
      To force installation of the older STREAMS based network filter
      driver, execute as root the following command before installing
      the Oracle VM VirtualBox package:
    </p><pre class="screen">$ touch /etc/vboxinst_vboxflt</pre><p>
      To force installation of the Crossbow based network filter driver,
      execute as root the following command before installing the
      Oracle VM VirtualBox package:
    </p><pre class="screen">$ touch /etc/vboxinst_vboxbow</pre><p>
      To check which driver is currently being used by Oracle VM VirtualBox,
      execute:
    </p><pre class="screen">$ modinfo | grep vbox</pre><p>
      If the output contains "vboxbow", it indicates Oracle VM VirtualBox is
      using the Crossbow network filter driver, while the name "vboxflt"
      indicates usage of the older STREAMS network filter.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vboxbowvnictemplates"></a>9.13. Oracle VM VirtualBox VNIC Templates for VLANs on Oracle Solaris 11 Hosts</h2></div></div></div><p>
      Oracle VM VirtualBox supports Virtual Network Interface (VNIC) templates
      for configuring VMs over VLANs. An Oracle VM VirtualBox VNIC template is
      a VNIC whose name starts with
      <code class="filename">vboxvnic_template</code>. The string is
      case-sensitive.
    </p><p>
      On Oracle Solaris 11 hosts, when Crossbow-based bridged networking
      is used, a VNIC template may be used to specify the VLAN ID to use
      while bridging over a network link.
    </p><p>
      The following is an example of how to use a VNIC template to
      configure a VM over a VLAN. Create an Oracle VM VirtualBox VNIC
      template, by executing as root:
    </p><pre class="screen"># dladm create-vnic -t -l nge0 -v 23 vboxvnic_template0</pre><p>
      This will create a temporary VNIC template over interface
      <span><strong class="command">nge0</strong></span> with the VLAN ID 23. To create VNIC
      templates that are persistent across host reboots, skip the
      <code class="option">-t</code> parameter in the above command. You may check
      the current state of links using the following command:
    </p><pre class="screen">$ dladm show-link
LINK        CLASS     MTU    STATE    BRIDGE     OVER
nge0        phys      1500   up       --         --
nge1        phys      1500   down     --         --
vboxvnic_template0 vnic 1500 up       --         nge0

$ dladm show-vnic
LINK         OVER         SPEED  MACADDRESS        MACADDRTYPE         VID
vboxvnic_template0 nge0   1000   2:8:20:25:12:75   random              23</pre><p>
      Once the VNIC template is created, any VMs that need to be on VLAN
      23 over the interface <span><strong class="command">nge0</strong></span> can be configured to
      bridge using this VNIC template.
    </p><p>
      VNIC templates makes managing VMs on VLANs simpler and efficient.
      The VLAN details are not stored as part of every VM's
      configuration but rather inherited from the VNIC template while
      starting the VM. The VNIC template itself can be modified anytime
      using the <span><strong class="command">dladm</strong></span> command.
    </p><p>
      VNIC templates can be created with additional properties such as
      bandwidth limits and CPU fanout. Refer to your Oracle Solaris
      network documentation for details. The additional properties are
      also applied to VMs which bridge using the VNIC template.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="addhostonlysolaris"></a>9.14. Configuring Multiple Host-Only Network Interfaces on Oracle Solaris
      Hosts</h2></div></div></div><p>
      By default Oracle VM VirtualBox provides you with one host-only network
      interface. Adding more host-only network interfaces on Oracle
      Solaris hosts requires manual configuration. Here is how to add
      another host-only network interface.
    </p><p>
      Begin by stopping all running VMs. Then, unplumb the existing
      "vboxnet0" interface by execute the following command as root:
    </p><pre class="screen"># ifconfig vboxnet0 unplumb</pre><p>
      If you have several vboxnet interfaces, you will need to unplumb
      all of them. Once all vboxnet interfaces are unplumbed, remove the
      driver by executing the following command as root:
    </p><pre class="screen"># rem_drv vboxnet</pre><p>
      Edit the file
      <code class="filename">/platform/i86pc/kernel/drv/vboxnet.conf</code> and
      add a line for the new interface we want to add as shown below:
    </p><pre class="screen">name="vboxnet" parent="pseudo" instance=1;
name="vboxnet" parent="pseudo" instance=2;</pre><p>
      Add as many of these lines as required with each line having a
      unique instance number.
    </p><p>
      Next, reload the vboxnet driver by executing the following command
      as root:
    </p><pre class="screen"># add_drv vboxnet</pre><p>
      On Oracle Solaris 11.1 and newer hosts you may want to rename the
      default vanity interface name. To check what name has been
      assigned, execute:
    </p><pre class="screen">$ dladm show-phys
LINK              MEDIA                STATE      SPEED  DUPLEX    DEVICE
net0              Ethernet             up         100    full      e1000g0
net2              Ethernet             up         1000   full      vboxnet1
net1              Ethernet             up         1000   full      vboxnet0</pre><p>
      In the above example, we can rename "net2" to "vboxnet1" before
      proceeding to plumb the interface. This can be done by executing
      as root:
    </p><pre class="screen"># dladm rename-link net2 vboxnet1</pre><p>
      Now plumb all the interfaces using <span><strong class="command">ifconfig
      vboxnet<em class="replaceable"><code>X</code></em> plumb</strong></span>, where
      <em class="replaceable"><code>X</code></em> would be 1 in this case. Once the
      interface is plumbed, it may be configured like any other network
      interface. Refer to the <span><strong class="command">ifconfig</strong></span> documentation
      for further details.
    </p><p>
      To make the settings for the newly added interfaces persistent
      across reboots, you will need to edit the files
      <code class="filename">/etc/inet/netmasks</code>, and if you are using NWAM
      <code class="filename">/etc/nwam/llp</code> and add the appropriate entries
      to set the netmask and static IP for each of those interfaces. The
      Oracle VM VirtualBox installer only updates these configuration files
      for the one "vboxnet0" interface it creates by default.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="solariscodedumper"></a>9.15. Configuring the Oracle VM VirtualBox CoreDumper on Oracle Solaris Hosts</h2></div></div></div><p>
      Oracle VM VirtualBox is capable of producing its own core files for
      extensive debugging when things go wrong. Currently this is only
      available on Oracle Solaris hosts.
    </p><p>
      The Oracle VM VirtualBox CoreDumper can be enabled using the following
      command:
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> VBoxInternal2/CoreDumpEnabled 1</pre><p>
      You can specify which directory to use for core dumps with this
      command, as follows:
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> VBoxInternal2/CoreDumpDir <em class="replaceable"><code>path-to-directory</code></em></pre><p>
      Make sure the directory you specify is on a volume with sufficient
      free space and that the Oracle VM VirtualBox process has sufficient
      permissions to write files to this directory. If you skip this
      command and do not specify any core dump directory, the current
      directory of the Oracle VM VirtualBox executable will be used. This
      would most likely fail when writing cores as they are protected
      with root permissions. It is recommended you explicitly set a core
      dump directory.
    </p><p>
      You must specify when the Oracle VM VirtualBox CoreDumper should be
      triggered. This is done using the following commands:
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> VBoxInternal2/CoreDumpReplaceSystemDump 1
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> VBoxInternal2/CoreDumpLive 1</pre><p>
      At least one of the above two commands will have to be provided if
      you have enabled the Oracle VM VirtualBox CoreDumper.
    </p><p>
      Setting <code class="literal">CoreDumpReplaceSystemDump</code> sets up the
      VM to override the host's core dumping mechanism and in the event
      of any crash only the Oracle VM VirtualBox CoreDumper would produce the
      core file.
    </p><p>
      Setting <code class="literal">CoreDumpLive</code> sets up the VM to produce
      cores whenever the VM process receives a
      <code class="literal">SIGUSR2</code> signal. After producing the core file,
      the VM will not be terminated and will continue to run. You can
      thus take cores of the VM process using the following command:
    </p><pre class="screen">$ kill -s SIGUSR2 <em class="replaceable"><code>VM-process-id</code></em></pre><p>
      The Oracle VM VirtualBox CoreDumper creates core files of the form
      <code class="filename">core.vb.<em class="replaceable"><code>process-name</code></em>.<em class="replaceable"><code>process-ID</code></em></code>
      such as <code class="filename">core.vb.VBoxHeadless.11321</code>.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vboxandsolzvmm"></a>9.16. Oracle VM VirtualBox and Oracle Solaris Kernel Zones</h2></div></div></div><p>
      Oracle Solaris kernel zones on x86-based systems make use of
      hardware-assisted virtualization features like Oracle VM VirtualBox
      does. However, for kernel zones and Oracle VM VirtualBox to share this
      hardware resource, they need to cooperate.
    </p><p>
      By default, due to performance reasons, Oracle VM VirtualBox acquires
      the hardware-assisted virtualization resource (VT-x/AMD-V)
      globally on the host machine and uses it until the last
      Oracle VM VirtualBox VM that requires it is powered off. This prevents
      other software from using VT-x/AMD-V during the time
      Oracle VM VirtualBox has taken control of it.
    </p><p>
      Oracle VM VirtualBox can be instructed to relinquish use of
      hardware-assisted virtualization features when not executing guest
      code, thereby allowing kernel zones to make use of them. To do
      this, shutdown all Oracle VM VirtualBox VMs and execute the following
      command:
    </p><pre class="screen">$ VBoxManage setproperty hwvirtexclusive off</pre><p>
      This command needs to be executed only once as the setting is
      stored as part of the global Oracle VM VirtualBox settings which will
      continue to persist across host-reboots and Oracle VM VirtualBox
      upgrades.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="guitweaks"></a>9.17. Locking Down the Oracle VM VirtualBox GUI</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="customize-vm-manager"></a>9.17.1. Customizing the VirtualBox Manager</h3></div></div></div><p>
        There are several advanced customization settings for locking
        down the VirtualBox Manager. Locking down means removing some
        features that the user should not see.
      </p><pre class="screen">VBoxManage setextradata global GUI/Customizations <em class="replaceable"><code>property</code></em>[,<em class="replaceable"><code>property</code></em> ...]</pre><p>
        <em class="replaceable"><code>property</code></em> is one of the following
        properties:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">noSelector</code>
          </span></dt><dd><p>
              Do not allow users to start the VirtualBox Manager. Trying
              to do so will show a window containing a proper error
              message.
            </p></dd><dt><span class="term">
            <code class="literal">noMenuBar</code>
          </span></dt><dd><p>
              VM windows will not contain a menu bar.
            </p></dd><dt><span class="term">
            <code class="literal">noStatusBar</code>
          </span></dt><dd><p>
              VM windows will not contain a status bar.
            </p></dd></dl></div><p>
        To disable any of these VirtualBox Manager customizations use
        the following command:
      </p><pre class="screen">$ VBoxManage setextradata global GUI/Customizations</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="customize-vm-selector"></a>9.17.2. VM Selector Customization</h3></div></div></div><p>
        The following per-machine VM extradata settings can be used to
        change the behavior of the VM selector window in respect of
        certain VMs:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> <em class="replaceable"><code>property</code></em> true</pre><p>
        <em class="replaceable"><code>property</code></em> can be any of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">GUI/HideDetails</code>
          </span></dt><dd><p>
              Do not show the VM configuration of a certain VM. The
              details window will remain just empty if this VM is
              selected.
            </p></dd><dt><span class="term">
            <code class="literal">GUI/PreventReconfiguration</code>
          </span></dt><dd><p>
              Do not allow the user to open the
              <span class="bold"><strong>Settings</strong></span> dialog for a
              certain VM.
            </p></dd><dt><span class="term">
            <code class="literal">GUI/PreventSnapshotOperations</code>
          </span></dt><dd><p>
              Prevent snapshot operations for a VM from the GUI, either
              at runtime or when the VM is powered off.
            </p></dd><dt><span class="term">
            <code class="literal">GUI/HideFromManager</code>
          </span></dt><dd><p>
              Hide a certain VM in the VM selector window.
            </p></dd><dt><span class="term">
            <code class="literal">GUI/PreventApplicationUpdate</code>
          </span></dt><dd><p>
              Disable the automatic update check and hide the
              corresponding menu item.
            </p></dd></dl></div><p>
        Note that these settings do not prevent the user from
        reconfiguring the VM by using the <span><strong class="command">VBoxManage
        modifyvm</strong></span> command.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="config-vm-selector-menu"></a>9.17.3. Configure VM Selector Menu Entries</h3></div></div></div><p>
        You can disable certain entries in the global settings page of
        the VM selector:
      </p><pre class="screen">$ VBoxManage setextradata global GUI/RestrictedGlobalSettingsPages <em class="replaceable"><code>property</code></em>[,<em class="replaceable"><code>property</code></em>...]</pre><p>
        <em class="replaceable"><code>property</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">General</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>General</strong></span>
              settings pane.
            </p></dd><dt><span class="term">
            <code class="literal">Input</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Input</strong></span>
              settings pane.
            </p></dd><dt><span class="term">
            <code class="literal">Update</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Update</strong></span>
              settings pane.
            </p></dd><dt><span class="term">
            <code class="literal">Language</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Language</strong></span>
              settings pane.
            </p></dd><dt><span class="term">
            <code class="literal">Display</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Display</strong></span>
              settings pane.
            </p></dd><dt><span class="term">
            <code class="literal">Network</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Network</strong></span>
              settings pane.
            </p></dd><dt><span class="term">
            <code class="literal">Extensions</code>
          </span></dt><dd><p>
              Do not show the
              <span class="bold"><strong>Extensions</strong></span> settings pane.
            </p></dd><dt><span class="term">
            <code class="literal">Proxy</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Proxy</strong></span>
              settings pane.
            </p></dd></dl></div><p>
        This is a global setting. You can specify any combination of
        properties. To restore the default behavior, use the following
        command:
      </p><pre class="screen">$ VBoxManage setextradata global GUI/RestrictedGlobalSettingsPages</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="config-vm-window-menu"></a>9.17.4. Configure VM Window Menu Entries</h3></div></div></div><p>
        You can disable certain menu actions in the VM window:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeMenus OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following
        keywords:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu in the VM window.
            </p></dd><dt><span class="term">
            <code class="literal">Application</code>
          </span></dt><dd><p>
              Do not show
              <span class="bold"><strong>Application/File</strong></span> menu in
              the VM window.
            </p></dd><dt><span class="term">
            <code class="literal">Machine</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Machine</strong></span>
              menu in the VM window.
            </p></dd><dt><span class="term">
            <code class="literal">View</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>View</strong></span> menu
              in the VM window.
            </p></dd><dt><span class="term">
            <code class="literal">Input</code>
          </span></dt><dd><p>
              Do not show <span class="bold"><strong>Input</strong></span> menu in
              the VM window.
            </p></dd><dt><span class="term">
            <code class="literal">Devices</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Devices</strong></span>
              menu in the VM window.
            </p></dd><dt><span class="term">
            <code class="literal">Help</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Help</strong></span> menu
              in the VM window.
            </p></dd><dt><span class="term">
            <code class="literal">Debug</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Debug</strong></span>
              menu in the VM window. The Debug menu is only visible if
              the GUI was started with special command line parameters
              or environment variable settings.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. To restore the default behavior, use the following
        command:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeMenus</pre><p>
        You can also disable certain menu actions of certain menus. Use
        the following command to disable certain actions of the
        <span class="bold"><strong>Application</strong></span> menu. This is only
        available on Mac OS X hosts.
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeApplicationMenuActions OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following
        keywords:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">About</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>About</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Preferences</code>
          </span></dt><dd><p>
              Do not show the
              <span class="bold"><strong>Preferences</strong></span> menu item in
              this menu.
            </p></dd><dt><span class="term">
            <code class="literal">NetworkAccessManager</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Network Operations
              Manager</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">ResetWarnings</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Reset All
              Warnings</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Close</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Close</strong></span>
              menu item in this menu.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. To restore the default behavior, use the following
        command:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeMenus</pre><p>
        Use the following command to disable certain actions of the
        <span class="bold"><strong>Machine</strong></span> menu:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeMachineMenuActions OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following
        keywords:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">SettingsDialog</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Settings</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TakeSnapshot</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Take
              Snapshot...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">InformationDialog</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Session
              Information...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">FileManagerDialog</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>File
              Manager...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Pause</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Pause</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Reset</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Reset</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Shutdown</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>ACPI
              Shutdown</strong></span> menu item in this menu.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. To restore the default behavior, use
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeMachineMenuActions</pre><p>
        Use the following command to disable certain actions of the
        <span class="bold"><strong>View</strong></span> menu:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeViewMenuActions OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following
        keywords:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Fullscreen</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Full-screen
              Mode</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Seamless</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Seamless
              Mode</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Scale</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Scaled
              Mode</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">GuestAutoresize</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Auto-resize Guest
              Display</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">AdjustWindow</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Adjust Window
              Size</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TakeScreenshot</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Take
              Screenshot...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Recording</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Recording</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">VRDEServer</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Remote
              Display</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">MenuBar</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Menu Bar</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">MenuBarSettings</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Menu Bar
              Settings...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">StatusBar</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Status
              Bar</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">StatusbarSettings</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Statusbar
              Settings...</strong></span> menu item in this menu.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. To restore the default behavior, use
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeViewMenuActions</pre><p>
        Use the following command to disable certain actions of the
        <span class="bold"><strong>Input</strong></span> menu:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeInputMenuActions OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following
        keywords:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Keyboard</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Keyboard</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">KeyboardSettings</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Keyboard
              Settings...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">SoftKeyboard</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Soft
              Keyboard...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TypeCAD</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert
              Ctrl-Alt-Del</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TypeCABS</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert
              Ctrl-Alt-Backspace</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TypeCtrlBreak</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert
              Ctrl-Break</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TypeInsert</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert
              Insert</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TypePrintScreen</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert Print
              Screen</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TypeAltPrintScreen</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert Alt Print
              Screen</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">TypeHostKeyCombo</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert Host Key
              Combo</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">MouseIntegration</code>
          </span></dt><dd><p>
              Do not show the
              <span class="bold"><strong>MouseIntegration</strong></span> menu
              item in this menu.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. To restore the default behavior, use
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeInputMenuActions</pre><p>
        Use the following command to disable certain actions of the
        <span class="bold"><strong>Devices</strong></span> menu:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeDevicesMenuActions OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following keywords
        to disable actions in the
        <span class="bold"><strong>Devices</strong></span> menu:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">HardDrives</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Hard
              Disks</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">OpticalDevices</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Optical
              Devices</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">FloppyDevices</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Floppy
              Drives</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Audio</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Audio</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Network</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Network</strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">NetworkSettings</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Network
              Settings</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">USBDevices</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>USB </strong></span> menu
              item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">WebCams</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>WebCams </strong></span>
              menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">SharedFolders</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Shared
              Folders</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">SharedFoldersSettings</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Shared Folders
              Settings...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">SharedClipboard</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Shared
              Clipboard</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">DragAndDrop</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Drag and
              Drop</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">InstallGuestTools</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Insert Guest
              Additions CD image...</strong></span> menu item in this menu.
            </p></dd></dl></div><p>
        This is a per-VM or global or global setting. Any combination of
        the above is allowed. To restore the default behavior, use
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeDevicesMenuActions</pre><p>
        Use the following command to disable certain actions of the
        <span class="bold"><strong>Debug</strong></span> menu:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeDebuggerMenuActions OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following keywords
        to disable actions in the <span class="emphasis"><em>Debug</em></span> menu, which
        is normally completely disabled:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Statistics</code>
          </span></dt><dd><p>
              Do not show the
              <span class="bold"><strong>Statistics...</strong></span> menu item
              in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">CommandLine</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Command
              Line...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Logging</code>
          </span></dt><dd><p>
              Do not show the
              <span class="bold"><strong>Logging...</strong></span> menu item in
              this menu.
            </p></dd><dt><span class="term">
            <code class="literal">LogDialog</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Show
              Log...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">GuestControlConsole</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Guest Control
              Terminal...</strong></span> menu item in this menu.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. To restore the default behavior, use
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeDebuggerMenuActions</pre><p>
        Use the following command to disable certain actions of the
        <span class="bold"><strong>View</strong></span> menu:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeHelpMenuActions OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following keywords
        to disable actions in the <span class="bold"><strong>Help</strong></span>
        menu, which is normally completely disabled:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">All</code>
          </span></dt><dd><p>
              Do not show any menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Contents</code>
          </span></dt><dd><p>
              Do not show the
              <span class="bold"><strong>Contents...</strong></span> menu item in
              this menu.
            </p></dd><dt><span class="term">
            <code class="literal">WebSite</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>VirtualBox Web
              Site...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">BugTracker</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>VirtualBox Bug
              Tracker...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Forums</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>VirtualBox
              Forums...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">Oracle</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>Oracle Web
              Site...</strong></span> menu item in this menu.
            </p></dd><dt><span class="term">
            <code class="literal">About</code>
          </span></dt><dd><p>
              Do not show the <span class="bold"><strong>About
              VirtualBox...</strong></span> menu item in this menu. Only for
              non-Mac OS X hosts.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. To restore the default behavior, use
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedRuntimeHelpMenuActions</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="config-vm-window-status-bar"></a>9.17.5. Configure VM Window Status Bar Entries</h3></div></div></div><p>
        You can disable certain status bar items:
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedStatusBarIndicators OPTION[,OPTION...]</pre><p>
        where <code class="literal">OPTION</code> is one of the following
        keywords:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">HardDisks</code>
          </span></dt><dd><p>
              Do not show the hard disk icon in the VM window status
              bar. By default the hard disk icon is only shown if the VM
              configuration contains one or more hard disks.
            </p></dd><dt><span class="term">
            <code class="literal">OpticalDisks</code>
          </span></dt><dd><p>
              Do not show the CD icon in the VM window status bar. By
              default the CD icon is only shown if the VM configuration
              contains one or more CD drives.
            </p></dd><dt><span class="term">
            <code class="literal">FloppyDisks</code>
          </span></dt><dd><p>
              Do not show the floppy icon in the VM window status bar.
              By default the floppy icon is only shown if the VM
              configuration contains one or more floppy drives.
            </p></dd><dt><span class="term">
            <code class="literal">Network</code>
          </span></dt><dd><p>
              Do not show the network icon in the VM window status bar.
              By default the network icon is only shown if the VM
              configuration contains one or more active network
              adapters.
            </p></dd><dt><span class="term">
            <code class="literal">USB</code>
          </span></dt><dd><p>
              Do not show the USB icon in the status bar.
            </p></dd><dt><span class="term">
            <code class="literal">SharedFolders</code>
          </span></dt><dd><p>
              Do not show the shared folders icon in the status bar.
            </p></dd><dt><span class="term">
            <code class="literal">Capture</code>
          </span></dt><dd><p>
              Do not show the capture icon in the status bar.
            </p></dd><dt><span class="term">
            <code class="literal">Features</code>
          </span></dt><dd><p>
              Do not show the CPU features icon in the status bar.
            </p></dd><dt><span class="term">
            <code class="literal">Mouse</code>
          </span></dt><dd><p>
              Do not show the mouse icon in the status bar.
            </p></dd><dt><span class="term">
            <code class="literal">Keyboard</code>
          </span></dt><dd><p>
              Do not show the keyboard icon in the status bar.
            </p></dd></dl></div><p>
        This is a per-VM or global setting. Any combination of the above
        is allowed. If all options are specified, no icons are displayed
        in the status bar of the VM window. To restore the default
        behavior, use
      </p><pre class="screen">VBoxManage setextradata "VM name"|global GUI/RestrictedStatusBarIndicators</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="config-vm-window-visual-modes"></a>9.17.6. Configure VM Window Visual Modes</h3></div></div></div><p>
        You can disable certain VM visual modes:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> GUI/RestrictedVisualStates <em class="replaceable"><code>property</code></em>[,<em class="replaceable"><code>property</code></em>...]</pre><p>
        <em class="replaceable"><code>property</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">Fullscreen</code>
          </span></dt><dd><p>
              Do not allow to switch the VM into full screen mode.
            </p></dd><dt><span class="term">
            <code class="literal">Seamless</code>
          </span></dt><dd><p>
              Do not allow to switch the VM into seamless mode.
            </p></dd><dt><span class="term">
            <code class="literal">Scale</code>
          </span></dt><dd><p>
              Do not allow to switch the VM into scale mode.
            </p></dd></dl></div><p>
        This is a per-VM setting. You can specify any combination of
        properties. To restore the default behavior, use the following
        command:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> GUI/RestrictedVisualStates</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="host-key-customize"></a>9.17.7. Host Key Customization</h3></div></div></div><p>
        To disable all Host key combinations, open the preferences and
        change the Host key to None. This might be useful when using
        Oracle VM VirtualBox in a kiosk mode.
      </p><p>
        To redefine or disable certain Host key actions, use the
        following command:
      </p><pre class="screen">$ VBoxManage setextradata global GUI/Input/MachineShortcuts "FullscreenMode=F,...."</pre><p>
        The following table shows the possible Host key actions,
        together with their default Host key shortcut. Setting an action
        to None will disable that Host key action.
      </p><div class="oracle-all"><a name="table-host-key-customize"></a><p class="title"><b>Table 9.1. Host Key Customization</b></p><table summary="Host Key Customization" border="1"><colgroup><col><col><col></colgroup><thead><tr><th><p>
                  <span class="bold"><strong>Action</strong></span>
                </p></th><th><p>
                  <span class="bold"><strong>Default Key</strong></span>
                </p></th><th><p>
                  <span class="bold"><strong>Action</strong></span>
                </p></th></tr></thead><tbody><tr><td><p>
                  <code class="literal">TakeSnapshot</code>
                </p></td><td><p>
                  T
                </p></td><td><p>
                  Take a snapshot
                </p></td></tr><tr><td><p>
                  <code class="literal">TakeScreenshot</code>
                </p></td><td><p>
                  E
                </p></td><td><p>
                  Take a screenshot
                </p></td></tr><tr><td><p>
                  <code class="literal">MouseIntegration</code>
                </p></td><td><p>
                  I
                </p></td><td><p>
                  Toggle mouse integration
                </p></td></tr><tr><td><p>
                  <code class="literal">TypeCAD</code>
                </p></td><td><p>
                  Del
                </p></td><td><p>
                  Inject Ctrl+Alt+Del
                </p></td></tr><tr><td><p>
                  <code class="literal">TypeCABS</code>
                </p></td><td><p>
                  Backspace
                </p></td><td><p>
                  Inject Ctrl+Alt+Backspace
                </p></td></tr><tr><td><p>
                  <code class="literal">Pause</code>
                </p></td><td><p>
                  P
                </p></td><td><p>
                  Pause the VM
                </p></td></tr><tr><td><p>
                  <code class="literal">Reset</code>
                </p></td><td><p>
                  R
                </p></td><td>Hard reset the guest</td></tr><tr><td><p>
                  <code class="literal">SaveState</code>
                </p></td><td><p></p></td><td><p>
                  Save the VM state and terminate the VM
                </p></td></tr><tr><td><p>
                  <code class="literal">Shutdown</code>
                </p></td><td><p>
                  H
                </p></td><td><p>
                  Press the virtual ACPI power button
                </p></td></tr><tr><td><p>
                  <code class="literal">PowerOff</code>
                </p></td><td><p></p></td><td><p>
                  Power off the VM without saving the state
                </p></td></tr><tr><td><p>
                  <code class="literal">Close</code>
                </p></td><td><p>
                  Q
                </p></td><td><p>
                  Show the Close VM dialog
                </p></td></tr><tr><td><p>
                  <code class="literal">FullscreenMode</code>
                </p></td><td><p>
                  F
                </p></td><td><p>
                  Switch the VM into full screen mode
                </p></td></tr><tr><td><p>
                  <code class="literal">SeamlessMode</code>
                </p></td><td><p>
                  L
                </p></td><td><p>
                  Switch the VM into seamless mode
                </p></td></tr><tr><td><p>
                  <code class="literal">ScaleMode</code>
                </p></td><td><p>
                  C
                </p></td><td><p>
                  Switch the VM into scaled mode
                </p></td></tr><tr><td><p>
                  <code class="literal">GuestAutoResize</code>
                </p></td><td><p>
                  G
                </p></td><td><p>
                  Automatically resize the guest window
                </p></td></tr><tr><td><p>
                  <code class="literal">WindowAdjust</code>
                </p></td><td><p>
                  A
                </p></td><td><p>
                  Immediately resize the guest window
                </p></td></tr><tr><td><p>
                  <code class="literal">PopupMenu</code>
                </p></td><td><p>
                  Home
                </p></td><td><p>
                  Show the popup menu in full screen mode and seamless
                  mode
                </p></td></tr><tr><td><p>
                  <code class="literal">SettingsDialog</code>
                </p></td><td><p>
                  S
                </p></td><td><p>
                  Open the VM Settings dialog
                </p></td></tr><tr><td><p>
                  <code class="literal">InformationDialog</code>
                </p></td><td><p>
                  N
                </p></td><td><p>
                  Show the VM Session Information window
                </p></td></tr><tr><td><p>
                  <code class="literal">NetworkAdaptersDialog</code>
                </p></td><td><p></p></td><td><p>
                  Show the VM Network Adapters dialog
                </p></td></tr><tr><td><p>
                  <code class="literal">SharedFoldersDialog</code>
                </p></td><td><p></p></td><td><p>
                  Show the VM Shared Folders dialog
                </p></td></tr><tr><td><p>
                  <code class="literal">InstallGuestAdditions</code>
                </p></td><td><p>
                  D
                </p></td><td><p>
                  Mount the ISO containing the Guest Additions
                </p></td></tr></tbody></table></div><p>
        To disable full screen mode and seamless mode, use the following
        command:
      </p><pre class="screen">$ VBoxManage setextradata global GUI/Input/MachineShortcuts "FullscreenMode=None,SeamlessMode=None"</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="terminate-vm-action"></a>9.17.8. Action when Terminating the VM</h3></div></div></div><p>
        You can disallow certain actions when terminating a VM. To
        disallow specific actions, use the following command:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> GUI/RestrictedCloseActions <em class="replaceable"><code>property</code></em>[,<em class="replaceable"><code>property</code></em>...]</pre><p>
        <em class="replaceable"><code>property</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">SaveState</code>
          </span></dt><dd><p>
              Do not allow the user to save the VM state when
              terminating the VM.
            </p></dd><dt><span class="term">
            <code class="literal">Shutdown</code>
          </span></dt><dd><p>
              Do not allow the user to shutdown the VM by sending the
              ACPI power-off event to the guest.
            </p></dd><dt><span class="term">
            <code class="literal">PowerOff</code>
          </span></dt><dd><p>
              Do not allow the user to power off the VM.
            </p></dd><dt><span class="term">
            <code class="literal">PowerOffRestoringSnapshot</code>
          </span></dt><dd><p>
              Do not allow the user to return to the last snapshot when
              powering off the VM.
            </p></dd><dt><span class="term">
            <code class="literal">Detach</code>
          </span></dt><dd><p>
              Do not allow the user to detach from the VM process if the
              VM was started in separate mode.
            </p></dd></dl></div><p>
        This is a per-VM setting. You can specify any combination of
        properties. If all properties are specified, the VM cannot be
        shut down.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="terminate-vm-default-action"></a>9.17.9. Default Action when Terminating the VM</h3></div></div></div><p>
        You can define a specific action for terminating a VM. In
        contrast to the setting decribed in the previous section, this
        setting allows only one action when the user terminates the VM.
        No exit menu is shown. Use the following command:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> GUI/DefaultCloseAction <em class="replaceable"><code>action</code></em></pre><p>
        <em class="replaceable"><code>action</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">SaveState</code>
          </span></dt><dd><p>
              Save the VM state before terminating the VM process.
            </p></dd><dt><span class="term">
            <code class="literal">Shutdown</code>
          </span></dt><dd><p>
              The VM is shut down by sending the ACPI power-off event to
              the guest.
            </p></dd><dt><span class="term">
            <code class="literal">PowerOff</code>
          </span></dt><dd><p>
              The VM is powered off.
            </p></dd><dt><span class="term">
            <code class="literal">PowerOffRestoringSnapshot</code>
          </span></dt><dd><p>
              The VM is powered off and the saved state returns to the
              last snapshot.
            </p></dd><dt><span class="term">
            <code class="literal">Detach</code>
          </span></dt><dd><p>
              Terminate the frontend but leave the VM process running.
            </p></dd></dl></div><p>
        This is a per-VM setting. You can specify any combination of
        properties. If all properties are specified, the VM cannot be
        shut down.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="guru-meditation-action"></a>9.17.10. Action for Handling a Guru Meditation</h3></div></div></div><p>
        A VM runs into a Guru Meditation if there is a problem which
        cannot be fixed by other means than terminating the process. The
        default is to show a message window which instructs the user to
        open a bug report.
      </p><p>
        This behavior can be configured as follows:
      </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> GUI/GuruMeditationHandler <em class="replaceable"><code>mode</code></em></pre><p>
        <em class="replaceable"><code>mode</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">Default</code>
          </span></dt><dd><p>
              A message window is shown. After the user confirmed, the
              VM is terminated.
            </p></dd><dt><span class="term">
            <code class="literal">PowerOff</code>
          </span></dt><dd><p>
              The VM is immediately powered-off without showing any
              message window. The VM logfile will show information about
              what happened.
            </p></dd><dt><span class="term">
            <code class="literal">Ignore</code>
          </span></dt><dd><p>
              The VM is left in stuck mode. Execution is stopped but no
              message window is shown. The VM has to be powered off
              manually.
            </p></dd></dl></div><p>
        This is a per-VM setting.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mouse-capture"></a>9.17.11. Configuring Automatic Mouse Capturing</h3></div></div></div><p>
        By default, the mouse is captured if the user clicks on the
        guest window and the guest expects relative mouse coordinates at
        this time. This happens if the pointing device is configured as
        PS/2 mouse and the guest has not yet started the Oracle VM VirtualBox
        Guest Additions. For instance, the guest is booting or the Guest
        Additions are not installed, or if the pointing device is
        configured as a USB tablet but the guest has no USB driver
        loaded yet. Once the Guest Additions become active or the USB
        guest driver is started, the mouse capture is automatically
        released.
      </p><p>
        The default behavior is sometimes not desired. Therefore it can
        be configured as follows:
      </p><pre class="screen">VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> GUI/MouseCapturePolicy <em class="replaceable"><code>mode</code></em></pre><p>
        <em class="replaceable"><code>mode</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">Default</code>
          </span></dt><dd><p>
              The default behavior as described above.
            </p></dd><dt><span class="term">
            <code class="literal">HostComboOnly</code>
          </span></dt><dd><p>
              The mouse is only captured if the Host Key is toggled.
            </p></dd><dt><span class="term">
            <code class="literal">Disabled</code>
          </span></dt><dd><p>
              The mouse is never captured, also not by toggling the Host
              Key
            </p></dd></dl></div><p>
        This is a per-VM setting.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="legacy-fullscreen-mode"></a>9.17.12. Requesting Legacy Full-Screen Mode</h3></div></div></div><p>
        Oracle VM VirtualBox uses special window manager facilities to switch
        a multi-screen machine to full-screen on a multi-monitor host
        system. However, not all window managers provide these
        facilities correctly. Oracle VM VirtualBox can be configured to use a
        legacy method of switching to full-screen mode instead, by using
        the command:
      </p><pre class="screen">VBoxManage setextradata global GUI/Fullscreen/LegacyMode true</pre><p>
        You can go back to the default method by using the following
        command:
      </p><pre class="screen">VBoxManage setextradata global GUI/Fullscreen/LegacyMode</pre><p>
        This is a global setting.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="restrict-network-attachments"></a>9.17.13. Removing Certain Modes of Networking From the GUI</h3></div></div></div><p>
        It is possible to remove networking modes from Oracle VM VirtualBox
        GUI. To do this, use the following command:
      </p><pre class="screen">VBoxManage setextradata global GUI/RestrictedNetworkAttachmentTypes <em class="replaceable"><code>property</code></em>[,<em class="replaceable"><code>property</code></em>...]</pre><p>
        <em class="replaceable"><code>property</code></em> is one of the following:
      </p><div class="variablelist"><dl><dt><span class="term">
            <code class="literal">NAT</code>
          </span></dt><dd><p>
              Remove the <span class="bold"><strong>NAT</strong></span> option
              from the GUI.
            </p></dd><dt><span class="term">
            <code class="literal">NATNetwork</code>
          </span></dt><dd><p>
              Remove the <span class="bold"><strong>NAT network</strong></span>
              option from the GUI.
            </p></dd><dt><span class="term">
            <code class="literal">BridgedAdapter</code>
          </span></dt><dd><p>
              Remove the <span class="bold"><strong>Bridged
              networking</strong></span> option from the GUI.
            </p></dd><dt><span class="term">
            <code class="literal">InternalNetwork</code>
          </span></dt><dd><p>
              Remove the <span class="bold"><strong>Internal
              networking</strong></span> option from the GUI.
            </p></dd><dt><span class="term">
            <code class="literal">HostOnlyAdapter</code>
          </span></dt><dd><p>
              Remove the <span class="bold"><strong>Host Only
              networking</strong></span> option from the GUI.
            </p></dd><dt><span class="term">
            <code class="literal">GenericDriver</code>
          </span></dt><dd><p>
              Remove the <span class="bold"><strong>Generic
              networking</strong></span> option from the GUI.
            </p></dd></dl></div><p>
        This is a global setting. You can specify any combination of
        properties. To restore the default behavior, use the following
        command:
      </p><pre class="screen">VBoxManage setextradata global GUI/RestrictedNetworkAttachmentTypes</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vboxwebsrv-daemon"></a>9.18. Starting the Oracle VM VirtualBox Web Service Automatically</h2></div></div></div><p>
      The Oracle VM VirtualBox web service, <span><strong class="command">vboxwebsrv</strong></span>, is
      used for controlling Oracle VM VirtualBox remotely. It is documented in
      detail in the Oracle VM VirtualBox Software Development Kit (SDK). See
      <a href="ch11.html" title="Chapter 11. Oracle VM VirtualBox Programming Interfaces">Chapter 11, <i>Oracle VM VirtualBox Programming Interfaces</i></a>. Web service start scripts are
      available for supported host operating systems. The following
      sections describe how to use the scripts. The Oracle VM VirtualBox web
      service is never started automatically as a result of a standard
      installation.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwebsrv-linux"></a>9.18.1. Linux: Starting the Web Service With init</h3></div></div></div><p>
        On Linux, the web service can be automatically started during
        host boot by adding appropriate parameters to the file
        <code class="filename">/etc/default/virtualbox</code>. There is one
        mandatory parameter, <code class="literal">VBOXWEB_USER</code>, which must
        be set to the user which will later start the VMs. The
        parameters in the following table all start with the
        <code class="literal">VBOXWEB_</code> prefix string. For example:
        <code class="literal">VBOXWEB_HOST</code> and
        <code class="literal">VBOXWEB_PORT</code>.
      </p><div class="oracle-all"><a name="table-websrv-config-params"></a><p class="title"><b>Table 9.2. Web Service Configuration Parameters</b></p><table summary="Web Service Configuration Parameters" border="1"><colgroup><col><col><col></colgroup><thead><tr><th><p>
                  <span class="bold"><strong>Parameter</strong></span>
                </p></th><th><p>
                  <span class="bold"><strong>Description</strong></span>
                </p></th><th><p>
                  <span class="bold"><strong>Default</strong></span>
                </p></th></tr></thead><tbody><tr><td><p>
                  <code class="literal">USER</code>
                </p></td><td><p>
                  The user which the web service runs as
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">HOST</code>
                </p></td><td><p>
                  The host to bind the web service to
                </p></td><td><p>
                  localhost
                </p></td></tr><tr><td><p>
                  <code class="literal">PORT</code>
                </p></td><td><p>
                  The port to bind the web service to
                </p></td><td><p>
                  18083
                </p></td></tr><tr><td><p>
                  <code class="literal">SSL_KEYFILE</code>
                </p></td><td><p>
                  Server key and certificate file, in PEM format
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">SSL_PASSWORDFILE</code>
                </p></td><td><p>
                  File name for password to server key
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">SSL_CACERT</code>
                </p></td><td><p>
                  CA certificate file, in PEM format
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">SSL_CAPATH</code>
                </p></td><td><p>
                  CA certificate path
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">SSL_DHFILE</code>
                </p></td><td><p>
                  DH file name or DH key length in bits
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">SSL_RANDFILE</code>
                </p></td><td><p>
                  File containing seed for random number generator
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">TIMEOUT</code>
                </p></td><td><p>
                  Session timeout in seconds, 0 disables timeouts
                </p></td><td><p>
                  300
                </p></td></tr><tr><td><p>
                  <code class="literal">CHECK_INTERVAL</code>
                </p></td><td><p>
                  Frequency of timeout checks in seconds
                </p></td><td><p>
                  5
                </p></td></tr><tr><td><p>
                  <code class="literal">THREADS</code>
                </p></td><td><p>
                  Maximum number of worker threads to run in parallel
                </p></td><td><p>
                  100
                </p></td></tr><tr><td><p>
                  <code class="literal">KEEPALIVE</code>
                </p></td><td><p>
                  Maximum number of requests before a socket will be
                  closed
                </p></td><td><p>
                  100
                </p></td></tr><tr><td><p>
                  <code class="literal">ROTATE</code>
                </p></td><td><p>
                  Number of log files, 0 disables log rotation
                </p></td><td><p>
                  10
                </p></td></tr><tr><td><p>
                  <code class="literal">LOGSIZE</code>
                </p></td><td><p>
                  Maximum log file size to trigger rotation, in bytes
                </p></td><td><p>
                  1MB
                </p></td></tr><tr><td><p>
                  <code class="literal">LOGINTERVAL</code>
                </p></td><td><p>
                  Maximum time interval to trigger log rotation, in
                  seconds
                </p></td><td><p>
                  1 day
                </p></td></tr></tbody></table></div><p>
        Setting the parameter <code class="literal">SSL_KEYFILE</code> enables the
        SSL/TLS support. Using encryption is strongly encouraged, as
        otherwise everything, including passwords, is transferred in
        clear text.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwebsrv-solaris"></a>9.18.2. Oracle Solaris: Starting the Web Service With SMF</h3></div></div></div><p>
        On Oracle Solaris hosts, the Oracle VM VirtualBox web service daemon
        is integrated into the SMF framework. You can change the
        parameters, but do not have to if the defaults below already
        match your needs:
      </p><pre class="screen">svccfg -s svc:/application/virtualbox/webservice:default setprop config/host=localhost
svccfg -s svc:/application/virtualbox/webservice:default setprop config/port=18083
svccfg -s svc:/application/virtualbox/webservice:default setprop config/user=root</pre><p>
        The table in <a href="ch09.html#vboxwebsrv-linux" title="9.18.1. Linux: Starting the Web Service With init">Section 9.18.1, &#8220;Linux: Starting the Web Service With init&#8221;</a> showing the
        parameter names and defaults also applies for Oracle Solaris.
        The parameter names must be changed to lowercase and a prefix of
        <code class="literal">config/</code> has to be added. For example:
        <code class="literal">config/user</code> or
        <code class="literal">config/ssl_keyfile</code>. If you make any change,
        do not forget to run the following command to put the changes
        into effect immediately:
      </p><pre class="screen">svcadm refresh svc:/application/virtualbox/webservice:default</pre><p>
        If you forget the above command then the previous settings are
        used when enabling the service. Check the current property
        settings as follows:
      </p><pre class="screen">svcprop -p config svc:/application/virtualbox/webservice:default</pre><p>
        When everything is configured correctly you can start the
        Oracle VM VirtualBox web service with the following command:
      </p><pre class="screen">svcadm enable svc:/application/virtualbox/webservice:default</pre><p>
        For more information about SMF, please refer to the Oracle
        Solaris documentation.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwebsrv-osx"></a>9.18.3. Mac OS X: Starting the Web Service With launchd</h3></div></div></div><p>
        On Mac OS X, launchd is used to start the Oracle VM VirtualBox
        webservice. An example configuration file can be found in
        <code class="filename">$HOME/Library/LaunchAgents/org.virtualbox.vboxwebsrv.plist</code>.
        It can be enabled by changing the <code class="literal">Disabled</code>
        key from <code class="literal">true</code> to <code class="literal">false</code>. To
        manually start the service use the following command:
      </p><pre class="screen">launchctl load ~/Library/LaunchAgents/org.virtualbox.vboxwebsrv.plist</pre><p>
        For additional information on how launchd services could be
        configured see:
      </p><p>
        <a href="https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html" target="_top">https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html</a>.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vboxwatchdog"></a>9.19. Oracle VM VirtualBox Watchdog</h2></div></div></div><p>
      The memory ballooning service, formerly known as
      <span><strong class="command">VBoxBalloonCtrl</strong></span>, was renamed to VBoxWatchdog.
      This service now incorporates the following host services that are
      meant to be run in a server environment:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <span class="bold"><strong>Memory ballooning control.</strong></span>
          This service automatically takes care of a VM's configured
          memory balloon. See <a href="ch04.html#guestadd-balloon" title="4.10.1. Memory Ballooning">Section 4.10.1, &#8220;Memory Ballooning&#8221;</a>. This
          service is useful for server environments where VMs may
          dynamically require more or less memory during runtime.
        </p><p>
          The service periodically checks a VM's current memory balloon
          and its free guest RAM and automatically adjusts the current
          memory balloon by inflating or deflating it accordingly. This
          handling only applies to running VMs having recent Guest
          Additions installed.
        </p></li><li><p>
          <span class="bold"><strong>Host isolation detection.</strong></span>
          This service provides a way to detect whether the host cannot
          reach the specific Oracle VM VirtualBox server instance anymore and
          take appropriate actions, such as shutting down, saving the
          current state or even powering down certain VMs.
        </p></li></ul></div><p>
      All configuration values can be either specified using the command
      line or global extradata, whereas command line values always have
      a higher priority when set. Some of the configuration values also
      be specified on a per-VM basis. So the overall lookup order is:
      command line, per-VM basis extradata if available, global
      extradata.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwatchdog-ballonctrl"></a>9.19.1. Memory Ballooning Control</h3></div></div></div><p>
        The memory ballooning control inflates and deflates the memory
        balloon of VMs based on the VMs free memory and the desired
        maximum balloon size.
      </p><p>
        To set up the memory ballooning control the maximum ballooning
        size a VM can reach needs to be set. This can be specified using
        the command line, as follows:
      </p><pre class="screen">--balloon-max &lt;Size in MB&gt;</pre><p>
        Using a per-VM basis extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata &lt;VM-Name&gt; VBoxInternal2/Watchdog/BalloonCtrl/BalloonSizeMax &lt;Size in MB&gt;</pre><p>
        Using a global extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata global VBoxInternal2/Watchdog/BalloonCtrl/BalloonSizeMax &lt;Size in MB&gt;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If no maximum ballooning size is specified by at least one of
          the parameters above, no ballooning will be performed at all.
        </p></div><p>
        Setting the ballooning increment in MB can be either done using
        command line, as follows:
      </p><pre class="screen">--balloon-inc &lt;Size in MB&gt;</pre><p>
        Using a global extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata global VBoxInternal2/Watchdog/BalloonCtrl/BalloonIncrementMB &lt;Size in MB&gt;</pre><p>
        The default ballooning increment is 256 MB if not specified.
      </p><p>
        The same options apply for a ballooning decrement. Using the
        command line, as follows:
      </p><pre class="screen">--balloon-dec &lt;Size in MB&gt;</pre><p>
        Using a global extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata global VBoxInternal2/Watchdog/BalloonCtrl/BalloonDecrementMB &lt;Size in MB&gt;</pre><p>
        The default ballooning decrement is 128 MB if not specified.
      </p><p>
        The lower limit in MB for a balloon can be defined using the
        command line, as follows:
      </p><pre class="screen">--balloon-lower-limit &lt;Size in MB&gt;</pre><p>
        Using a global extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata global VBoxInternal2/Watchdog/BalloonCtrl/BalloonLowerLimitMB &lt;Size in MB&gt;</pre><p>
        The default lower limit is 128 MB if not specified.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwatchdog-hostisln"></a>9.19.2. Host Isolation Detection</h3></div></div></div><p>
        To detect whether a host is being isolated, that is, the host
        cannot reach the Oracle VM VirtualBox server instance anymore, the
        host needs to set an alternating value to a global extradata
        value within a time period. If this value is not set within that
        time period a timeout occurred and the so-called host isolation
        response will be performed to the VMs handled. Which VMs are
        handled can be controlled by defining VM groups and assigning
        VMs to those groups. By default no groups are set, meaning that
        all VMs on the server will be handled when no host response is
        received within 30 seconds.
      </p><p>
        Set the groups handled by the host isolation detection using the
        following command line:
      </p><pre class="screen">--apimon-groups=&lt;string[,stringN]&gt;</pre><p>
        Using a global extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata global VBoxInternal2/Watchdog/APIMonitor/Groups &lt;string[,stringN]&gt;</pre><p>
        Set the host isolation timeout using the following command line:
      </p><pre class="screen">--apimon-isln-timeout=&lt;ms&gt;</pre><p>
        Using a global extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata global VBoxInternal2/Watchdog/APIMonitor/IsolationTimeoutMS &lt;ms&gt;</pre><p>
        Set the actual host isolation response using the following
        command line:
      </p><pre class="screen">--apimon-isln-response=&lt;cmd&gt;</pre><p>
        Using a global extradata value, as follows:
      </p><pre class="screen">VBoxManage setextradata global VBoxInternal2/Watchdog/APIMonitor/IsolationResponse &lt;cmd&gt;</pre><p>
        The following response commands are available:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            <code class="literal">none</code>. This has no effect.
          </p></li><li><p>
            <code class="literal">pause</code>. Pauses the execution of a VM.
          </p></li><li><p>
            <code class="literal">poweroff</code>. Shuts down the VM by pressing
            the virtual power button. The VM will not have the chance of
            saving any data or veto the shutdown process.
          </p></li><li><p>
            <code class="literal">save</code>. Saves the current machine state and
            powers off the VM afterwards. If saving the machine state
            fails the VM will be paused.
          </p></li><li><p>
            <code class="literal">shutdown</code>. Shuts down the VM in a gentle
            way by sending an <code class="literal">ACPI</code> shutdown event to
            the VM's operating system. The OS then has the chance of
            doing a clean shutdown.
          </p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwatchdog-moreinfo"></a>9.19.3. More Information</h3></div></div></div><p>
        For more advanced options and parameters like verbose logging
        check the built-in command line help accessible with
        <code class="option">--help</code>.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwatchdog-linux"></a>9.19.4. Linux: Starting the Watchdog Service With init</h3></div></div></div><p>
        On Linux, the watchdog service can be automatically started
        during host boot by adding appropriate parameters to the file
        <code class="filename">/etc/default/virtualbox</code>. There is one
        mandatory parameter, <code class="literal">VBOXWATCHDOG_USER</code>, which
        must be set to the user which will later start the VMs. For
        backward compatibility you can also specify
        <code class="literal">VBOXBALLOONCTRL_USER</code>.
      </p><p>
        The parameters in the following table all start with the
        <code class="literal">VBOXWATCHDOG_</code> prefix string. For example:
        <code class="literal">VBOXWATCHDOG_BALLOON_INTERVAL</code> and
        <code class="literal">VBOXWATCHDOG_LOGSIZE</code>. Legacy parameters such
        as <code class="literal">VBOXBALLOONCTRL_INTERVAL</code> can still be
        used.
      </p><div class="oracle-all"><a name="table-vboxwatchdog-config-params"></a><p class="title"><b>Table 9.3. Oracle VM VirtualBox Watchdog Configuration Parameters</b></p><table summary="Oracle VM VirtualBox Watchdog Configuration Parameters" border="1"><colgroup><col><col><col></colgroup><thead><tr><th><p>
                  <span class="bold"><strong>Parameter</strong></span>
                </p></th><th><p>
                  <span class="bold"><strong>Description</strong></span>
                </p></th><th><p>
                  <span class="bold"><strong>Default</strong></span>
                </p></th></tr></thead><tbody><tr><td><p>
                  <code class="literal">USER</code>
                </p></td><td><p>
                  The user which the watchdog service runs as
                </p></td><td><p></p></td></tr><tr><td><p>
                  <code class="literal">ROTATE</code>
                </p></td><td><p>
                  Number of log files, 0 disables log rotation
                </p></td><td><p>
                  10
                </p></td></tr><tr><td><p>
                  <code class="literal">LOGSIZE</code>
                </p></td><td><p>
                  Maximum log file size to trigger rotation, in bytes
                </p></td><td><p>
                  1MB
                </p></td></tr><tr><td><p>
                  <code class="literal">LOGINTERVAL</code>
                </p></td><td><p>
                  Maximum time interval to trigger log rotation, in
                  seconds
                </p></td><td><p>
                  1 day
                </p></td></tr><tr><td><p>
                  <code class="literal">BALLOON_INTERVAL</code>
                </p></td><td><p>
                  Interval for checking the balloon size, in
                  milliseconds
                </p></td><td><p>
                  30000
                </p></td></tr><tr><td><p>
                  <code class="literal">BALLOON_INCREMENT</code>
                </p></td><td><p>
                  Balloon size increment, in megabytes
                </p></td><td><p>
                  256
                </p></td></tr><tr><td><p>
                  <code class="literal">BALLOON_DECREMENT</code>
                </p></td><td><p>
                  Balloon size decrement, in megabytes
                </p></td><td><p>
                  128
                </p></td></tr><tr><td><p>
                  <code class="literal">BALLOON_LOWERLIMIT</code>
                </p></td><td><p>
                  Balloon size lower limit, in megabytes
                </p></td><td><p>
                  64
                </p></td></tr><tr><td><p>
                  <code class="literal">BALLOON_SAFETYMARGIN</code>
                </p></td><td><p>
                  Free memory required for decreasing the balloon size,
                  in megabytes
                </p></td><td><p>
                  1024
                </p></td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vboxwatchdog-solaris"></a>9.19.5. Oracle Solaris: Starting the Watchdog Service With SMF</h3></div></div></div><p>
        On Oracle Solaris hosts, the Oracle VM VirtualBox watchdog service
        daemon is integrated into the SMF framework. You can change the
        parameters, but do not have to if the defaults already match
        your needs:
      </p><pre class="screen">svccfg -s svc:/application/virtualbox/balloonctrl:default setprop \
  config/balloon_interval=10000
svccfg -s svc:/application/virtualbox/balloonctrl:default setprop \
config/balloon_safetymargin=134217728</pre><p>
        <a href="ch09.html#table-vboxwatchdog-config-params" title="Table 9.3. Oracle VM VirtualBox Watchdog Configuration Parameters">Table 9.3, &#8220;Oracle VM VirtualBox Watchdog Configuration Parameters&#8221;</a> also applies
        for Oracle Solaris. The parameter names must be changed to
        lowercase and a prefix of <code class="literal">config/</code> has to be
        added. For example: <code class="literal">config/user</code> or
        <code class="literal">config/balloon_safetymargin</code>. If you made any
        change, do not forget to run the following command to put the
        changes into effect immediately:
      </p><pre class="screen">svcadm refresh svc:/application/virtualbox/balloonctrl:default</pre><p>
        If you forget the above command then the previous settings will
        be used when enabling the service. Check the current property
        settings with the following command:
      </p><pre class="screen">svcprop -p config svc:/application/virtualbox/balloonctrl:default</pre><p>
        When everything is configured correctly you can start the
        Oracle VM VirtualBox watchdog service with the following command:
      </p><pre class="screen">svcadm enable svc:/application/virtualbox/balloonctrl:default</pre><p>
        For more information about SMF, please refer to the Oracle
        Solaris documentation.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="otherextpacks"></a>9.20. Other Extension Packs</h2></div></div></div><p>
      Another extension pack called VNC is available. This extension
      pack is open source and replaces the previous integration of the
      VNC remote access protocol. This is experimental code, and is
      initially available in the Oracle VM VirtualBox source code package
      only. It is to a large portion code contributed by users, and is
      not supported in any way by Oracle.
    </p><p>
      The keyboard handling is severely limited, and only the US
      keyboard layout works. Other keyboard layouts will have at least
      some keys which produce the wrong results, often with quite
      surprising effects, and for layouts which have significant
      differences to the US keyboard layout it is most likely unusable.
    </p><p>
      It is possible to install both the Oracle VM VirtualBox Extension Pack
      and VNC, but only one VRDE module can be active at any time. The
      following command switches to the VNC VRDE module in VNC:
    </p><pre class="screen">VBoxManage setproperty vrdeextpack VNC</pre><p>
      Configuring the remote access works very similarly to VRDP, see
      <a href="ch07.html#vrde" title="7.1. Remote Display (VRDP Support)">Section 7.1, &#8220;Remote Display (VRDP Support)&#8221;</a>, with some limitations. VNC does not
      support specifying several port numbers, and the authentication is
      done differently. VNC can only deal with password authentication,
      and there is no option to use password hashes. This leaves no
      other choice than having a clear-text password in the VM
      configuration, which can be set with the following command:
    </p><pre class="screen">VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --vrdeproperty VNCPassword=secret</pre><p>
      The user is responsible for keeping this password secret, and it
      should be removed when a VM configuration is passed to another
      person, for whatever purpose. Some VNC servers claim to have
      encrypted passwords in the configuration. This is not true
      encryption, it is only concealing the passwords, which is only as
      secure as using clear-text passwords.
    </p><p>
      The following command switches back to VRDP, if installed:
    </p><pre class="screen">VBoxManage setproperty vrdeextpack "Oracle VM VirtualBox Extension Pack"</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="autostart"></a>9.21. Starting Virtual Machines During System Boot</h2></div></div></div><p>
      You can start VMs automatically during system boot on Linux,
      Oracle Solaris, and Mac OS X platforms for all users.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="autostart-linux"></a>9.21.1. Linux: Starting the Autostart Service With init</h3></div></div></div><p>
        On Linux, the autostart service is activated by setting two
        variables in <code class="filename">/etc/default/virtualbox</code>. The
        first one is <code class="literal">VBOXAUTOSTART_DB</code> which contains
        an absolute path to the autostart database directory. The
        directory should have write access for every user who should be
        able to start virtual machines automatically. Furthermore the
        directory should have the sticky bit set. The second variable is
        <code class="literal">VBOXAUTOSTART_CONFIG</code> which points the service
        to the autostart configuration file which is used during boot to
        determine whether to allow individual users to start a VM
        automatically and configure startup delays. The configuration
        file can be placed in <code class="filename">/etc/vbox</code> and
        contains several options. One is
        <code class="literal">default_policy</code> which controls whether the
        autostart service allows or denies to start a VM for users which
        are not in the exception list. The exception list starts with
        <code class="literal">exception_list</code> and contains a comma separated
        list with usernames. Furthermore a separate startup delay can be
        configured for every user to avoid overloading the host. A
        sample configuration is given below:
      </p><pre class="screen">
# Default policy is to deny starting a VM, the other option is "allow".
default_policy = deny

# Bob is allowed to start virtual machines but starting them
# will be delayed for 10 seconds
bob = {
    allow = true
    startup_delay = 10
}

# Alice is not allowed to start virtual machines, useful to exclude certain users
# if the default policy is set to allow.
alice = {
    allow = false
}
</pre><p>
        Any user who wants to enable autostart for individual machines
        must set the path to the autostart database directory with the
        following command:
      </p><pre class="screen">VBoxManage setproperty autostartdbpath <em class="replaceable"><code>autostart-directory</code></em></pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="autostart-solaris"></a>9.21.2. Oracle Solaris: Starting the Autostart Service With SMF</h3></div></div></div><p>
        On Oracle Solaris hosts, the Oracle VM VirtualBox autostart daemon is
        integrated into the SMF framework. To enable it you must point
        the service to an existing configuration file which has the same
        format as on Linux, see <a href="ch09.html#autostart-linux" title="9.21.1. Linux: Starting the Autostart Service With init">Section 9.21.1, &#8220;Linux: Starting the Autostart Service With init&#8221;</a>. For
        example:
      </p><pre class="screen"># svccfg -s svc:/application/virtualbox/autostart:default setprop \
  config/config=/etc/vbox/autostart.cfg</pre><p>
        When everything is configured correctly you can start the
        Oracle VM VirtualBox autostart service with the following command:
      </p><pre class="screen"># svcadm enable svc:/application/virtualbox/autostart:default</pre><p>
        For more information about SMF, see the Oracle Solaris
        documentation.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="autostart-osx"></a>9.21.3. Mac OS X: Starting the Autostart Service With launchd</h3></div></div></div><p>
        On Mac OS X, launchd is used to start the Oracle VM VirtualBox
        autostart service. An example configuration file can be found in
        <code class="filename">/Applications/VirtualBox.app/Contents/MacOS/org.virtualbox.vboxautostart.plist</code>.
        To enable the service copy the file to
        <code class="filename">/Library/LaunchDaemons</code> and change the
        <code class="literal">Disabled</code> key from <code class="literal">true</code> to
        <code class="literal">false</code>. Furthermore replace the second
        parameter to an existing configuration file which has the same
        format as on Linux, see <a href="ch09.html#autostart-linux" title="9.21.1. Linux: Starting the Autostart Service With init">Section 9.21.1, &#8220;Linux: Starting the Autostart Service With init&#8221;</a>.
      </p><p>
        To manually start the service use the following command:
      </p><pre class="screen"># launchctl load /Library/LaunchDaemons/org.virtualbox.vboxautostart.plist</pre><p>
        For additional information on how launchd services can be
        configured see:
      </p><p>
        <a href="http://developer.apple.com/mac/library/documentation/MacOSX/Conceptual/BPSystemStartup/BPSystemStartup.html" target="_top">http://developer.apple.com/mac/library/documentation/MacOSX/Conceptual/BPSystemStartup/BPSystemStartup.html</a>.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="autostart-windows"></a>9.21.4. Windows: Starting the Autostart Service</h3></div></div></div><p>
        On Windows, autostart functionality consist of two components.
        The first component is a configuration file where the
        administrator can both set a delayed start for the VMs and
        temporarily disable autostarting for a particular user. The
        configuration file should be located in a folder accessible by
        all required users but it should have permissions allowing only
        reading by everyone but administrators. The configuration file
        contains several options. The
        <code class="literal">default_policy</code> controls whether the autostart
        service allows or denies starting of a VM for users that are not
        in the exception list. The exception list starts with
        <code class="literal">exception_list</code> and contains a comma separated
        list with usernames. Furthermore, a separate startup delay can
        be configured for every user to avoid overloading the host. A
        sample configuration is given below:
      </p><pre class="screen">
    # Default policy is to deny starting a VM, the other option is "allow".
    default_policy = deny

    # Bob is allowed to start virtual machines but starting them
    # will be delayed for 10 seconds
    bob = {
        allow = true
        startup_delay = 10
    }

    # Alice is not allowed to start virtual machines, useful to exclude certain users
    # if the default policy is set to allow.
    alice = {
        allow = false
    }
</pre><p>
        The user name can be specified using the following forms:
        "user", "domain\user", ".\user" and "user@domain". An
        administrator must add the
        <code class="literal">VBOXAUTOSTART_CONFIG</code> environment variable
        into system variables containing the path to the configuration
        file described above. The environment variable tells the
        autostart services which configuration file is used.
      </p><p>
        The second component of autostart functionality is a Windows
        service. Every instance of this works on behalf of a particular
        user using their credentials.
      </p><p>
        To enable autostarting for a particular user, a member of the
        administrators group must run the following command:
      </p><pre class="screen">VBoxAutostartSvc install --user=<em class="replaceable"><code>user</code></em> [--password-file=<em class="replaceable"><code>password_file</code></em>]</pre><p>
        The password file should contain the password followed by a line
        break. The rest of the file is ignored. The user will be asked
        for a password if the password file is not specified.
      </p><p>
        To disable autostarting for particular user, a member of the
        administrators group must run the following command:
      </p><pre class="screen">VBoxAutostartSvc delete --user=<em class="replaceable"><code>user</code></em></pre><p>
        If a user has changed their password then a member of the
        administrators group must either reinstall the service or change
        the service credentials using Windows Service Manager. Due to
        Windows security policies, the autostart service cannot be
        installed for users with empty passwords.
      </p><p>
        Finally, the user should define which VMs should be started at
        boot. The user should run the following command for every VM
        they wish to start at boot:
      </p><pre class="screen">VBoxManage modifyvm <em class="replaceable"><code>VM name or UUID</code></em> --autostart-enabled on</pre><p>
        The user can remove a particular VM from the VMs starting at
        boot by running the following command:
      </p><pre class="screen">VBoxManage modifyvm <em class="replaceable"><code>VM name or UUID</code></em> --autostart-enabled off</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vboxexpertstoragemgmt"></a>9.22. Oracle VM VirtualBox Expert Storage Management</h2></div></div></div><p>
      In case the snapshot model of Oracle VM VirtualBox is not sufficient it
      is possible to enable a special mode which makes it possible to
      reconfigure storage attachments while the VM is paused. The user
      has to make sure that the disk data stays consistent to the guest
      because unlike with hotplugging the guest is not informed about
      detached or newly attached media.
    </p><p>
      The expert storage management mode can be enabled per VM
      executing:
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "VBoxInternal2/SilentReconfigureWhilePaused" 1</pre><p>
      You can reconfigure storage attachments later while the VM is
      paused by using the <span><strong class="command">VBoxManage storageattach</strong></span>
      command.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="hostpowertweaks"></a>9.23. Handling of Host Power Management Events</h2></div></div></div><p>
      Some host power management events are handled by Oracle VM VirtualBox.
      The actual behavior depends on the platform:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <span class="bold"><strong>Host Suspends.</strong></span> This event is
          generated when the host is about to suspend, that is, the host
          saves the state to some non-volatile storage and powers off.
        </p><p>
          This event is currently only handled on Windows hosts and Mac
          OS X hosts. When this event is generated, Oracle VM VirtualBox will
          pause all running VMs.
        </p></li><li><p>
          <span class="bold"><strong>Host Resumes.</strong></span> This event is
          generated when the host woke up from the suspended state.
        </p><p>
          This event is currently only handled on Windows hosts and Mac
          OS X hosts. When this event is generated, Oracle VM VirtualBox will
          resume all VMs which are where paused before.
        </p></li><li><p>
          <span class="bold"><strong>Battery Low.</strong></span> The battery
          level reached a critical level, usually less than 5 percent
          charged.
        </p><p>
          This event is currently only handled on Windows hosts and Mac
          OS X hosts. When this event is generated, Oracle VM VirtualBox will
          save the state and terminate all VMs in preparation of a
          potential host powerdown.
        </p><p>
          The behavior can be configured. By executing the following
          command, no VM is saved:
        </p><pre class="screen">$ VBoxManage setextradata global "VBoxInternal2/SavestateOnBatteryLow" 0</pre><p>
          This is a global setting as well as a per-VM setting. The
          per-VM value has higher precedence than the global value. The
          following command will save the state of all VMs but will not
          save the state of VM "foo":
        </p><pre class="screen">$ VBoxManage setextradata global "VBoxInternal2/SavestateOnBatteryLow" 1
$ VBoxManage setextradata "foo" "VBoxInternal2/SavestateOnBatteryLow" 0</pre><p>
          The first line is actually not required as by default the
          savestate action is performed.
        </p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sse412passthrough"></a>9.24. Passing Through SSE4.1/SSE4.2 Instructions</h2></div></div></div><p>
      To provide SSE 4.1/SSE 4.2 support to guests, the host CPU has to
      implement these instruction sets. The instruction sets are exposed
      to guests by default, but it is possible to disable the
      instructions for certain guests by using the following commands:
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/CPUM/IsaExts/SSE4.1 0
$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/CPUM/IsaExts/SSE4.2 0</pre><p>
      These are per-VM settings which are enabled by default.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="hidledssync"></a>9.25. Support for Keyboard Indicator Synchronization</h2></div></div></div><p>
      This feature makes the host keyboard indicators (LEDs) match those
      of the VM's emulated keyboard when the machine window is active.
      It is currently implemented for Mac OS X and Windows hosts. This
      feature is enabled by default on supported host OSes. You can
      disable this feature by running the following command:
    </p><pre class="screen">$ VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> GUI/HidLedsSync 0</pre><p>
      This is a per-VM setting that is enabled by default.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usbtrafficcapturing"></a>9.26. Capturing USB Traffic for Selected Devices</h2></div></div></div><p>
      You can capture USB traffic for single USB devices or on the root
      hub level, which captures the traffic of all USB devices attached
      to the root hub. Oracle VM VirtualBox stores the traffic in a format
      which is compatible with Wireshark. To capture the traffic of a
      specific USB device it must be attached to the VM with
      <span><strong class="command">VBoxManage</strong></span> using the following command:
    </p><pre class="screen">VBoxManage controlvm <em class="replaceable"><code>VM-name</code></em> usbattach <em class="replaceable"><code>device uuid</code></em>|<em class="replaceable"><code>address</code></em> --capturefile <em class="replaceable"><code>filename</code></em></pre><p>
      In order to enable capturing on the root hub use the following
      command while the VM is not running:
    </p><pre class="screen">VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/usb-ehci/0/LUN#0/Config/CaptureFilename <em class="replaceable"><code>filename</code></em></pre><p>
      The command above enables capturing on the root hub attached to
      the EHCI controller. To enable it for the OHCI or XHCI controller
      replace <code class="literal">usb-ehci</code> with
      <code class="literal">usb-ohci</code> or <code class="literal">usb-xhci</code>,
      respectively.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="heartbeatservice"></a>9.27. Configuring the Heartbeat Service</h2></div></div></div><p>
      Oracle VM VirtualBox ships a simple heartbeat service. Once the Guest
      Additions are active, the guest sends frequent heartbeat pings to
      the host. If the guest stops sending the heartbeat pings without
      properly terminating the service, the VM process will log this
      event in the VBox.log file. In the future it might be possible to
      configure dedicated actions but for now there is only a warning in
      the log file.
    </p><p>
      There are two parameters to configure. The <span class="emphasis"><em>heartbeat
      interval</em></span> defines the time between two heartbeat pings.
      The default value is 2 seconds, that is, the heartbeat service of
      the Oracle VM VirtualBox Guest Additions will send a heartbeat ping
      every two seconds. The value in nanoseconds can be configured like
      this:
    </p><pre class="screen">VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/VMMDev/0/Config/HeartbeatInterval 2000000000</pre><p>
      The <span class="emphasis"><em>heartbeat timeout</em></span> defines the time the
      host waits starting from the last heartbeat ping before it defines
      the guest as unresponsive. The default value is 2 times the
      heartbeat interval (4 seconds) and can be configured as following,
      in nanoseconds:
    </p><pre class="screen">VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> \
VBoxInternal/Devices/VMMDev/0/Config/HeartbeatTimeout 4000000000</pre><p>
      If the heartbeat timeout expires, there will be a log message like
      <span class="emphasis"><em>VMMDev: HeartBeatCheckTimer: Guest seems to be
      unresponsive. Last heartbeat received 5 seconds ago.</em></span> If
      another heartbeat ping arrives after this warning, there will be a
      log message like <span class="emphasis"><em>VMMDev: GuestHeartBeat: Guest is
      alive.</em></span>
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="diskencryption"></a>9.28. Encryption of Disk Images</h2></div></div></div><p>
      Oracle VM VirtualBox enables you to transparently encrypt the data
      stored in hard disk images for the guest. It does not depend on a
      specific image format to be used. Images which have the data
      encrypted are not portable between Oracle VM VirtualBox and other
      virtualization software.
    </p><p>
      Oracle VM VirtualBox uses the AES algorithm in XTS mode and supports
      128-bit or 256-bit data encryption keys (DEK). The DEK is stored
      encrypted in the medium properties and is decrypted during VM
      startup by entering a password which was chosen when the image was
      encrypted.
    </p><p>
      Since the DEK is stored as part of the VM configuration file, it
      is important that it is kept safe. Losing the DEK means that the
      data stored in the disk images is lost irrecoverably. Having
      complete and up to date backups of all data related to the VM is
      the responsibility of the user.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="diskencryption-limitations"></a>9.28.1. Limitations of Disk Encryption</h3></div></div></div><p>
        There are some limitations the user needs to be aware of when
        using this feature:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            This feature is part of the Oracle VM VirtualBox Extension Pack,
            which needs to be installed. Otherwise disk encryption is
            unavailable.
          </p></li><li><p>
            Since encryption works only on the stored user data, it is
            currently not possible to check for metadata integrity of
            the disk image. Attackers might destroy data by removing or
            changing blocks of data in the image or change metadata
            items such as the disk size.
          </p></li><li><p>
            Exporting appliances which contain encrypted disk images is
            not possible because the OVF specification does not support
            this. All images are therefore decrypted during export.
          </p></li><li><p>
            The DEK is kept in memory while the VM is running to be able
            to decrypt data read and encrypt data written by the guest.
            While this should be obvious the user needs to be aware of
            this because an attacker might be able to extract the key on
            a compromised host and decrypt the data.
          </p></li><li><p>
            When encrypting or decrypting the images, the password is
            passed in clear text using the Oracle VM VirtualBox API. This
            needs to be kept in mind, especially when using third party
            API clients which make use of the webservice where the
            password might be transmitted over the network. The use of
            HTTPS is mandatory in such a case.
          </p></li><li><p>
            Encrypting images with differencing images is only possible
            if there are no snapshots or a linear chain of snapshots.
            This limitation may be addressed in a future Oracle VM VirtualBox
            version.
          </p></li><li><p>
            The disk encryption feature can protect the content of the
            disks configured for a VM only. It does not cover any other
            data related to a VM, including saved state or the
            configuration file itself.
          </p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="diskencryption-encryption"></a>9.28.2. Encrypting Disk Images</h3></div></div></div><p>
        Encrypting disk images can be done either using the GUI or
        <span><strong class="command">VBoxManage</strong></span>. While the GUI is easier to use,
        it works on a per VM basis and encrypts all disk images attached
        to the specific VM. With <span><strong class="command">VBoxManage</strong></span> one can
        encrypt individual images, including all differencing images. To
        encrypt an unencrypted medium with
        <span><strong class="command">VBoxManage</strong></span>, use:
      </p><pre class="screen">VBoxManage encryptmedium <em class="replaceable"><code>uuid</code></em>|<em class="replaceable"><code>filename</code></em> \
--newpassword <em class="replaceable"><code>filename</code></em>|- --cipher <em class="replaceable"><code>cipher-ID</code></em> --newpasswordid "<em class="replaceable"><code>ID</code></em></pre><p>
        To supply the encryption password point
        <span><strong class="command">VBoxManage</strong></span> to the file where the password is
        stored or specify <code class="option">-</code> to let VBoxManage ask you
        for the password on the command line.
      </p><p>
        The cipher parameter specifies the cipher to use for encryption
        and can be either <code class="literal">AES-XTS128-PLAIN64</code> or
        <code class="literal">AES-XTS256-PLAIN64</code>. The specified password
        identifier can be freely chosen by the user and is used for
        correct identification when supplying multiple passwords during
        VM startup.
      </p><p>
        If the user uses the same password when encrypting multiple
        images and also the same password identifier, the user needs to
        supply the password only once during VM startup.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="diskencryption-startvm"></a>9.28.3. Starting a VM with Encrypted Images</h3></div></div></div><p>
        When a VM is started using the GUI, a dialog will open where the
        user needs to enter all passwords for all encrypted images
        attached to the VM. If another frontend like VBoxHeadless is
        used, the VM will be paused as soon as the guest tries to access
        an encrypted disk. The user needs to provide the passwords
        through <span><strong class="command">VBoxManage</strong></span> using the following
        command:
      </p><pre class="screen">VBoxManage controlvm <em class="replaceable"><code>uuid</code></em>|<em class="replaceable"><code>vmname</code></em> addencpassword <em class="replaceable"><code>ID</code></em> <em class="replaceable"><code>password</code></em> [--removeonsuspend yes|no]</pre><p>
        <em class="replaceable"><code>ID</code></em> must be the same as the password
        identifier supplied when encrypting the images.
        <em class="replaceable"><code>password</code></em> is the password used when
        encrypting the images. Optionally, you can specify
        <code class="option">--removeonsuspend yes|no</code> to specify whether to
        remove the password from VM memory when the VM is suspended.
        Before the VM can be resumed, the user needs to supply the
        passwords again. This is useful when a VM is suspended by a host
        suspend event and the user does not want the password to remain
        in memory.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="diskencryption-decryption"></a>9.28.4. Decrypting Encrypted Images</h3></div></div></div><p>
        In some circumstances it might be required to decrypt previously
        encrypted images. This can be done in the GUI for a complete VM
        or using <span><strong class="command">VBoxManage</strong></span> with the following
        command:
      </p><pre class="screen">VBoxManage encryptmedium <em class="replaceable"><code>uuid</code></em>|<em class="replaceable"><code>filename</code></em> --oldpassword <em class="replaceable"><code>file</code></em>|-</pre><p>
        The only required parameter is the password the image was
        encrypted with. The options are the same as for encrypting
        images.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gimdebug"></a>9.29. Paravirtualized Debugging</h2></div></div></div><p>
      This section covers debugging of guest operating systems using
      interfaces supported by paravirtualization providers.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        Paravirtualized debugging significantly alter guest operating
        system behaviour and should only be used by expert users for
        debugging and diagnostics.
      </p></div><p>
      These debug options are specified as a string of key-value pairs
      separated by commas. An empty string disables paravirtualized
      debugging.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="gimdebughyperv"></a>9.29.1. Hyper-V Debug Options</h3></div></div></div><p>
        All of the options listed below are optional, and thus the
        default value specified will be used when the corresponding
        key-value pair is not specified.
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Key:
            <span class="bold"><strong><code class="literal">enabled</code></strong></span>
          </p><p>
            Value: <code class="literal">0</code> or <code class="literal">1</code>
          </p><p>
            Default: <code class="literal">0</code>
          </p><p>
            Specify <code class="literal">1</code> to enable the Hyper-V debug
            interface. If this key-value pair is not specified or the
            value is not <code class="literal">1</code>, the Hyper-V debug
            interface is disabled regardless of other key-value pairs
            being present.
          </p></li><li><p>
            Key:
            <span class="bold"><strong><code class="literal">address</code></strong></span>
          </p><p>
            Value: IPv4 address
          </p><p>
            Default: 127.0.0.1
          </p><p>
            Specify the IPv4 address where the remote debugger is
            connected.
          </p></li><li><p>
            Key:
            <span class="bold"><strong><code class="literal">port</code></strong></span>
          </p><p>
            Value: UDP port number
          </p><p>
            Default: 50000
          </p><p>
            Specify the UDP port number where the remote debugger is
            connected.
          </p></li><li><p>
            Key:
            <span class="bold"><strong><code class="literal">vendor</code></strong></span>
          </p><p>
            Value: Hyper-V vendor signature reported by CPUID to the
            guest
          </p><p>
            Default: When debugging is enabled: <code class="literal">Microsoft
            Hv</code>, otherwise: <code class="literal">VBoxVBoxVBox</code>
          </p><p>
            Specify the Hyper-V vendor signature which is exposed to the
            guest by CPUID. For debugging Microsoft Windows guests, it
            is required the hypervisor reports the Microsoft vendor.
          </p></li><li><p>
            Key:
            <span class="bold"><strong><code class="literal">hypercallinterface</code>
            </strong></span>
          </p><p>
            Value: <code class="literal">0</code> or <code class="literal">1</code>
          </p><p>
            Default: <code class="literal">0</code>
          </p><p>
            Specify whether hypercalls should be suggested for
            initiating debug data transfers between host and guest
            rather than MSRs when requested by the guest.
          </p></li><li><p>
            Key: <span class="bold"><strong><code class="literal">vsinterface</code>
            </strong></span>
          </p><p>
            Value: <code class="literal">0</code> or <code class="literal">1</code>
          </p><p>
            Default: When debugging is enabled, <code class="literal">1</code>,
            otherwise <code class="literal">0</code>
          </p><p>
            Specify whether to expose the VS#1 virtualization service
            interface to the guest. This interface is required for
            debugging Microsoft Windows 10 32-bit guests, but is
            optional for other Windows versions.
          </p></li></ul></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="gimdebughyperv-windows-setup"></a>9.29.1.1. Setting up Windows Guests for Debugging with the Hyper-V
          Paravirtualization Provider</h4></div></div></div><p>
          Windows supports debugging over a serial cable, USB, IEEE 1394
          Firewire, and Ethernet. USB and IEEE 1394 are not applicable
          for virtual machines, and Ethernet requires Windows 8 or
          later. While a serial connection is universally usable, it is
          slow.
        </p><p>
          Debugging using the Hyper-V debug transport, supported on
          Windows Vista and later, offers significant benefits. It
          provides excellent performance due to direct host-to-guest
          transfers, it is easy to set up and requires minimal support
          from the hypervisor. It can be used with the debugger running
          on the same host as the VM or with the debugger and VM on
          separate machines connected over a network.
        </p><p>
          <span class="bold"><strong>Prerequisites</strong></span>
        </p><div class="itemizedlist"><ul type="disc"><li><p>
              A VM configured for Hyper-V paravirtualization running a
              Windows Vista or newer Windows guest. You can check the
              effective paravirtualization provider for your VM with the
              output of the following <span><strong class="command">VBoxManage</strong></span>
              command:
            </p><pre class="screen">$ VBoxManage showvminfo <em class="replaceable"><code>VM-name</code></em></pre></li><li><p>
              A sufficiently up-to-date version of the Microsoft WinDbg
              debugger required to debug the version of Windows in your
              VM.
            </p></li><li><p>
              While Windows 8 and newer Windows guests ship with Hyper-V
              debug support, Windows 7 and Vista do not. To use Hyper-V
              debugging with a Windows 7 or Vista guest, copy the file
              <code class="filename">kdvm.dll</code> from a Windows 8.0
              installation. This file is typically located in
              <code class="filename">C:\Windows\System32</code>. Copy it to the
              same location in your Windows 7/Vista guest. Make sure you
              copy the 32-bit or 64-bit version of the DLL which matches
              your guest OS.
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
                Only Windows 8.0 ships <code class="filename">kdvm.dll</code>.
                Windows 8.1 and newer Windows versions do not.
              </p></div></li></ul></div><p>
          <span class="bold"><strong>VM and Guest Configuration</strong></span>
        </p><div class="orderedlist"><ol type="1"><li><p>
              Power off the VM.
            </p></li><li><p>
              Enable the debug options with the following
              <span><strong class="command">VBoxManage</strong></span> command:
            </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> --paravirtdebug "enabled=1"</pre><p>
              The above command assumes your debugger will connect to
              your host machine on UDP port 50000. However, if you need
              to run the debugger on a remote machine you may specify
              the remote address and port here. For example:
            </p><pre class="screen">$ VBoxManage modifyvm <em class="replaceable"><code>VM-name</code></em> \
--paravirtdebug "enabled=1,address=192.168.32.1,port=55000"</pre><p>
              See <a href="ch09.html#gimdebughyperv" title="9.29.1. Hyper-V Debug Options">Section 9.29.1, &#8220;Hyper-V Debug Options&#8221;</a> for the complete set
              of options.
            </p></li><li><p>
              Start the VM.
            </p></li><li><p>
              In the guest, start an elevated command prompt and execute
              the following commands:
            </p><div class="itemizedlist"><ul type="disc"><li><p>
                  For a Windows 8 or newer Windows guest:
                </p><pre class="screen">bcdedit /dbgsettings net hostip:5.5.5.5 port:50000 key:1.2.3.4</pre></li><li><p>
                  For a Windows 7 or Vista guest:
                </p><pre class="screen">bcdedit /set loadoptions host_ip=5.5.5.5,host_port=50000,encryption_key=1.2.3.4</pre><pre class="screen">bcdedit /set dbgtransport kdvm.dll</pre><p>
                  The IP address and port in the
                  <span><strong class="command">bcdedit</strong></span> command are ignored when
                  using the Hyper-V debug transport. Any valid IP and a
                  port number greater than 49151 and lower than 65536
                  can be entered.
                </p><p>
                  The encryption key in the <span><strong class="command">bcdedit</strong></span>
                  command is relevant and must be valid. The key
                  "1.2.3.4" used in the above example is valid and may
                  be used if security is not a concern. If you do not
                  specify any encryption key, <span><strong class="command">bcdedit</strong></span>
                  will generate one for you and you will need to copy
                  this key to later enter in Microsoft WinDbg on the
                  remote end. This encryption key is used to encrypt the
                  debug data exchanged between Windows and the debugger.
                </p></li><li><p>
                  Run one or more of the following commands to enable
                  debugging for the appropriate phase or component of
                  your Windows guest:
                </p><pre class="screen">bcdedit /set debug on</pre><pre class="screen">bcdedit /set bootdebug on</pre><pre class="screen">bcdedit /set {bootmgr} bootdebug on</pre><p>
                  Please note that the <span><strong class="command">bootdebug</strong></span>
                  options are only effective on Windows 8 or newer when
                  using the Hyper-V debug transport. Refer to Microsoft
                  Windows documentation for detailed explanation of
                  <span><strong class="command">bcdedit</strong></span> options.
                </p></li></ul></div></li><li><p>
              Start Microsoft WinDbg on your host machine or remote
              host.
            </p><p>
              From the <span class="bold"><strong>File</strong></span> menu,
              select <span class="bold"><strong>Kernel Debug</strong></span>. On
              the <span class="bold"><strong>NET</strong></span> tab, specify the
              UDP port number you used in the
              <code class="literal">paravirtdebug</code> options. If you did not
              specify any, leave it as 50000. Ensure that the UDP port
              is not blocked by a firewall or other security software.
            </p><p>
              In the <span class="bold"><strong>Key</strong></span> field, enter
              <code class="literal">1.2.3.4</code> or the encryption key from the
              <span><strong class="command">bcdedit</strong></span> command in your Windows guest.
            </p><p>
              Click <span class="bold"><strong>OK</strong></span> to start
              listening for connections. Microsoft WinDbg typically
              shows a Waiting to Reconnect message during this phase.
            </p><p>
              Alternatively, to directly start a debug session, run
              WinDbg from the command line as follows :
            </p><pre class="screen">windbg.exe -k net:port=50000,key=1.2.3.4</pre><p>
              See the WinDbg documentation for the complete command line
              syntax.
            </p></li><li><p>
              Reboot your Windows guest and it should then connect as a
              debuggee with Microsoft WinDbg.
            </p></li></ol></div></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="pcspeaker_passthrough"></a>9.30. PC Speaker Passthrough</h2></div></div></div><p>
      As an experimental feature, primarily due to being limited to
      Linux host only and unknown Linux distribution coverage,
      Oracle VM VirtualBox supports passing through the PC speaker to the
      host. The PC speaker, sometimes called the system speaker, is a
      way to produce audible feedback such as beeps without the need for
      regular audio and sound card support.
    </p><p>
      The PC speaker passthrough feature in Oracle VM VirtualBox handles beeps
      only. Advanced PC speaker use by the VM, such as PCM audio, will
      not work, resulting in undefined host behavior.
    </p><p>
      Producing beeps on Linux is a very complex topic. Oracle VM VirtualBox
      offers a collection of options, in an attempt to make this work
      deterministically and reliably on as many Linux distributions and
      system configurations as possible. These are summarized in the
      following table.
    </p><div class="oracle-all"><a name="table-pcspeaker-config"></a><p class="title"><b>Table 9.4. PC Speaker Configuration Options</b></p><table summary="PC Speaker Configuration Options" border="1"><colgroup><col><col><col></colgroup><thead><tr><th><p>
                <span class="bold"><strong>Code</strong></span>
              </p></th><th><p>
                <span class="bold"><strong>Device</strong></span>
              </p></th><th><p>
                <span class="bold"><strong>Notes</strong></span>
              </p></th></tr></thead><tbody><tr><td><p>
                1
              </p></td><td><p>
                <code class="filename">/dev/input/by-path/platform-pcspkr-event-spkr</code>
              </p></td><td><p>
                Direct host PC speaker use.
              </p></td></tr><tr><td><p>
                2
              </p></td><td><code class="filename">/dev/tty</code></td><td><p>
                Uses the terminal association of the VM process. VM
                needs to be started on a virtual console.
              </p></td></tr><tr><td><p>
                3
              </p></td><td><p>
                <code class="filename">/dev/tty0</code> or
                <code class="filename">/dev/vc/0</code>
              </p></td><td><p>
                Can only be used by user <code class="literal">root</code> or
                users with <code class="literal">cap_sys_tty_config</code>
                capability.
              </p></td></tr><tr><td><p>
                9
              </p></td><td><p>
                A user-specified console or evdev device path.
              </p></td><td><p>
                As for codes 1 to 3, but with a custom device path.
              </p></td></tr><tr><td><p>
                70
              </p></td><td><p>
                <code class="filename">/dev/tty</code>
              </p></td><td><p>
                Standard beep only. Loses frequency and length. See code
                2.
              </p></td></tr><tr><td><p>
                79
              </p></td><td><p>
                A user-specified terminal device path.
              </p></td><td><p>
                As for code 70, but with a custom device path.
              </p></td></tr><tr><td><p>
                100
              </p></td><td><p>
                All of the above.
              </p></td><td><p>
                Tries all the available codes.
              </p></td></tr></tbody></table></div><p>
      To enable PC speaker passthrough use the following command:
    </p><pre class="screen">VBoxManage setextradata <em class="replaceable"><code>VM-name</code></em> "VBoxInternal/Devices/i8254/0/Config/PassthroughSpeaker" <em class="replaceable"><code>N</code></em></pre><p>
      Replace <em class="replaceable"><code>N</code></em> with the code representing
      the case you want to use. Changing this setting takes effect when
      you next start the VM. It is safe to enable PC speaker passthrough
      on all host OSes. It will only have an effect on Linux.
    </p><p>
      The VM log file, <code class="filename">VBox.log</code>, contains lines
      with the prefix <code class="literal">PIT: speaker:</code> showing the PC
      speaker passthrough setup activities. It gives hints which device
      it picked or why it failed.
    </p><p>
      Enabling PC speaker passthrough for the VM is usually the simple
      part. The real difficulty is making sure that Oracle VM VirtualBox can
      access the necessary device, because in a typical Linux install
      most of them can only be accessed by user <code class="literal">root</code>.
      You should follow the preferred way to persistently change this,
      such as by referring to your distribution's documentation. Since
      there are countless Linux distribution variants, we can only give
      the general hints that there is often a way to give the X11
      session user access to additional devices, or you need to find a
      working solution using a udev configuration file. If everything
      fails you might try setting the permissions using a script which
      is run late enough in the host system startup.
    </p><p>
      Sometimes additional rules are applied by the kernel to limit
      access. For example, that the VM process must have the same
      controlling terminal as the device configured to be used for
      beeping, something which is often very difficult to achieve for
      GUI applications such as Oracle VM VirtualBox. The table above contains
      some hints, but in general refer to the Linux documentation.
    </p><p>
      If you have trouble getting any beeps even if the device
      permissions are set up and VBox.log confirms that it uses evdev or
      console for the PC speaker control, check if your system has a PC
      speaker. Some systems do not have one. Other complications can
      arise from Linux rerouting the PC speaker output to a sound card.
      Check if the beeps are audible if you connect speakers to your
      sound card. Today almost all systems have one. Finally, check if
      the audio mixer control has a channel named "beep", which could be
      hidden in the mixer settings, and that it is not muted.
    </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usbip"></a>9.31. Accessing USB devices Exposed Over the Network with USB/IP</h2></div></div></div><p>
      Oracle VM VirtualBox supports passing through USB devices which are
      exposed over the network using the USB over IP protocol without
      the need to configure the client side provided by the kernel and
      usbip tools. Furthermore, this feature works with Oracle VM VirtualBox
      running on any supported host, rather than just Linux alone, as is
      the case with the official client.
    </p><p>
      To enable support for passing through USB/IP devices, use the
      following command to add the device server that exports the
      devices:
    </p><pre class="screen">VBoxManage usbdevsource add <em class="replaceable"><code>unique-name</code></em> --backend <em class="replaceable"><code>USBIP</code></em> --address <em class="replaceable"><code>device-server</code></em>[:<em class="replaceable"><code>port</code></em>]</pre><p>
      USB devices exported on the device server are then accessible
      through the GUI or <span><strong class="command">VBoxManage</strong></span>, like any USB
      devices attached locally. This can be used multiple times to
      access different device servers.
    </p><p>
      To remove a device server, the following command can be used:
    </p><pre class="screen">$ VBoxManage usbdevsource remove <em class="replaceable"><code>unique-name</code></em></pre><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="usbip-setup-server"></a>9.31.1. Setting up USB/IP Support on a Linux System</h3></div></div></div><p>
        This section gives a brief overview on how to set up a Linux
        based system to act as a USB device server. The system on the
        server requires that the <code class="filename">usbip-core.ko</code> and
        <code class="filename">usbip-host.ko</code> kernel drivers are available,
        and that the USB/IP tools package is installed. The particular
        installation method for the necessary tools depends on which
        distribution is used. For example, for Debian based systems, use
        the following command to install the required tools:
      </p><pre class="screen">$ apt-get install usbip-utils</pre><p>
        To check whether the necessary tools are already installed use
        the following command:
      </p><pre class="screen">
$ usbip list -l
      </pre><p>
        This should produce output similar to that shown in the example
        below:
      </p><pre class="screen">
 - busid 4-2 (0bda:0301)
   Realtek Semiconductor Corp. : multicard reader (0bda:0301)

 - busid 5-1 (046d:c52b)
   Logitech, Inc. : Unifying Receiver (046d:c52b)
      </pre><p>
        If everything is installed, the USB/IP server needs to be
        started as <code class="literal">root</code> using the following command:
      </p><pre class="screen"># usbipd -D</pre><p>
        See the documentation for the installed distribution to
        determine how to start the service when the system boots.
      </p><p>
        By default, no device on the server is exported. This must be
        done manually for each device. To export a device use the
        following command:
      </p><pre class="screen"># usbip bind -b "bus identifier"</pre><p>
        To export the multicard reader in the previous example:
      </p><pre class="screen"># usbip bind -b 4-2</pre></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="usbip-security"></a>9.31.2. Security Considerations</h3></div></div></div><p>
        The communication between the server and client is unencrypted
        and there is no authorization required to access exported
        devices. An attacker might sniff sensitive data or gain control
        over a device. To mitigate this risk, the device should be
        exposed over a local network to which only trusted clients have
        access. To access the device remotely over a public network, a
        VPN solution should be used to provide the required level of
        security protection.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="hyperv-support"></a>9.32. Using Hyper-V with Oracle VM VirtualBox</h2></div></div></div><p>
      Oracle VM VirtualBox can be used on a Windows host where Hyper-V is
      running. This is an experimental feature.
    </p><p>
      No configuration is required. Oracle VM VirtualBox detects Hyper-V
      automatically and uses Hyper-V as the virtualization engine for
      the host system. The CPU icon in the VM window status bar
      indicates that Hyper-V is being used.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        When using this feature, some host systems might experience
        significant Oracle VM VirtualBox performance degradation.
      </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nested-virt"></a>9.33. Nested Virtualization</h2></div></div></div><p>
      Oracle VM VirtualBox supports <span class="emphasis"><em>nested
      virtualization</em></span>. This feature enables the passthrough of
      hardware virtualization functions to the guest VM. That means that
      you can install a hypervisor, such as Oracle VM VirtualBox, Oracle VM
      Server or KVM, on an Oracle VM VirtualBox guest. You can then create and
      run VMs within the guest VM.
    </p><p>
      Hardware virtualization features not present on the host CPU will
      not be exposed to the guest. In addition, some features such as
      nested paging are not yet supported for passthrough to the guest.
    </p><p>
      You can enable the nested virtualization feature in one of the
      following ways:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          From the VirtualBox Manager, select the
          <span class="bold"><strong>Enable Nested VT-x/AMD-V</strong></span>
          check box on the <span class="bold"><strong>Processor</strong></span>
          tab. To disable the feature, deselect the check box.
        </p></li><li><p>
          Use the <code class="option">--nested-hw-virt</code> option of the
          <span><strong class="command">VBoxManage modifyvm</strong></span> command to enable or
          disable nested virtualization. See
          <a href="ch08.html#vboxmanage-modifyvm" title="8.8. VBoxManage modifyvm">Section 8.8, &#8220;VBoxManage modifyvm&#8221;</a>.
        </p></li></ul></div></div><div class="refentry"><div class="sect1" lang="en"><div class="titlepage"><div><div><div class="refentry"><h2 class="title" style="clear: both"><a name="viso"></a>9.34. VISO file format / RTIsoMaker</h2></div></div></div></div><p>ISO image maker.</p><div class="not-in-toc refsynopsisdiv"><div class="sect2" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsynopsisdiv"><h3 class="title"><a name="idp20692464"></a>Synopsis</h3></div></div></div></div><div class="cmdsynopsis"><p><a name="synopsis-viso"></a></p><p class="lastcommand"><code class="command">RTIsoMaker</code>  [<em class="replaceable"><code>options</code></em>] [@<em class="replaceable"><code>commands.rsp</code></em>] &lt;<em class="replaceable"><code>filespec</code></em>...&gt;</p></div></div></div><div class="not-in-toc refsect1"><div class="sect2" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect1"><h3 class="title"><a name="idp20700224"></a>Description</h3></div></div></div></div><p>Construct a virtual ISO 9660 / Joliet / UDF / HFS hybrid image and either write it to a
    file (RTIsoMaker) or serve it as a virtual image (VISO).</p><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp20702080"></a>VISO file format</h4></div></div></div></div><p>A VISO file is a virtual ISO image, i.e. constructed in memory from a bunch of files on
        the host.  A VISO is just the recipe describing how to go about this using a syntax vaguely
        similar to mkisofs and genisoimage.</p><p>One requirement is that the VISO file must start with one of the
        <code class="option">--iprt-iso-maker-file-marker</code> options. Which of the options you use will
        dictate the quoting and escaping rules used when reading the file.  The option takes the
        image UUID as an argument.</p><p>The VISO files are treated as UTF-8 and must not contain any byte order marker (BOM).
        There is currently no way to comment out lines in a VISO file.</p></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp20705904"></a>File specifications and --name-setup</h4></div></div></div></div><p>All non-options that does not start with '@' are taken to indicate a file, directory,
        or similar that is should be added to the ISO image.  Directories are added recursively and
        content is subject to filtering options.</p><p>Since there can be up to six different namespaces on an ISO, it is handy to be able to
        control the names used in each and be able to exclude an object from one or more namespaces.
        The <code class="option">--name-setup</code> option specifies the file specification format to use
        forthwith.</p><p>The default setup is:</p><p>
        <code class="computeroutput">    --name-setup iso+joliet+udf+hfs</code>
      </p><p>Which means you specify one on-ISO name for all namespaces followed by '=' and the
        source file system name.  Only specifying the source file system will add the
        file/dir/whatever to the root of the ISO image.</p><p>Lets look at the following two examples:</p><p>
        <code class="computeroutput">    /docs/readme.txt=/home/user/Documents/product-x-readme.txt</code>
      </p><p>
        <code class="computeroutput">    /home/user/Documents/product-x-readme.txt</code>
      </p><p>In the first case the file <code class="computeroutput">'/home/user/Documents/product-x-readme.txt'</code>
        is added to the ISO image as <code class="computeroutput">'/docs/readme.txt'</code> in all
        enabled namespaces.  In the primary ISO 9660 namespace, the filename will by default be
        converted to upper case because it's required by the spec.</p><p>In the second case the file is added to the root under the name
        <code class="computeroutput">'product-x-readme.txt'</code> in all namespaces. Though, in the
        primary ISO 9660 namespace the name will be transformed to apply with the current ISO level,
        probably uppercased, possibly truncated too. </p><p>Given  <code class="option">--name-setup iso,joliet,udf</code>  you can specify the name individually
        for each of the three namespace, if you like.  If you omit any, they will use last name given.
        Any names left blank (<code class="computeroutput">==</code>) will be considered omitted.</p><p>A different name in each namespace:</p><p>
        <code class="computeroutput">    /ISO.TXT=/Joliet.TxT=/UDF.txt=/tmp/iso/real.txt</code>
      </p><p>Specific name in the ISO 9660 namespace, same in the rest:</p><p>
        <code class="computeroutput">    /ISO.TXT=/OtherNamespaces.TxT=/tmp/iso/real.txt</code>
      </p><p>Omit the file from the ISO 9660 namespace:</p><p>
        <code class="computeroutput">    =/OtherNamespaces.TxT=/tmp/iso/real.txt</code>
      </p><p>Omit the file from the joliet namespace:</p><p>
        <code class="computeroutput">    /ISO.TXT==/UDF.TxT=/tmp/iso/real.txt</code>
      </p><p>Use the same filename as the source everywhere:</p><p>
        <code class="computeroutput">    /tmp/iso/real.txt</code>
      </p><p>Using for instance  <code class="option">--name-setup udf</code>  you can add a files/dirs/whatever
        to select namespace(s) without the more complicated empty name syntax above.</p><p>When adding directories, you can only control the naming and omitting of the directory
        itself, not any recursively added files and directories below it.</p></div></div></div></div><div class="not-in-toc refsect1"><div class="sect2" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect1"><h3 class="title"><a name="idp20729824"></a>Options</h3></div></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp20800080"></a>General</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">-o <em class="replaceable"><code>output-file</code></em></code>
          , </span><span class="term">
            <code class="option">--output=<em class="replaceable"><code>output-file</code></em></code>
          </span></dt><dd><p>The output filename.  This option is not supported in VISO mode.</p></dd><dt><span class="term">
            <code class="option">--name-setup=<em class="replaceable"><code>spec</code></em></code>
          </span></dt><dd><p>Configures active namespaces and how file specifications are to be
              interpreted.  The specification is a comma separated list.  Each element in the list is
              a sub-list separated by space, <code class="computeroutput">'+'</code> or
              <code class="computeroutput">'|'</code> giving the namespaces that elements controls.
              Namespaces are divied into two major and minor ones, you cannot specifying a minor
              before the major it belongs to.</p><p>Major namespaces and aliases in parentheses:</p><div class="itemizedlist"><ul type="disc" compact><li><p>iso (primary, iso9660, iso-9660, primary-iso, iso-primary)</p></li><li><p>joliet</p></li><li><p>udf</p></li><li><p>hfs (hfs-plus)</p></li></ul></div><p>Minor namespaces:</p><div class="itemizedlist"><ul type="disc" compact><li><p>rock:        rock ridge on previous major namespace (iso / joliet)</p></li><li><p>iso-rock:    rock ridge extensions on primary ISO 9660 namespace</p></li><li><p>joliet-rock: rock ridge on joliet namespace (just for fun)</p></li><li><p>trans-tbl:   translation table file on previous major namespace</p></li><li><p>iso-trans-tbl</p></li><li><p>joliet-trans-tbl</p></li><li><p>udf-trans-tbl</p></li><li><p>hfs-trans-tbl</p></li></ul></div></dd><dt><span class="term">
            <code class="option">--name-setup-from-import</code>
          </span></dt><dd><p>This is for use following one or more <code class="option">--import-iso</code>
              operations and will pick a configuration matching the imported content as best we can.
              If the imported ISOs only had a iso9660 namespace, the joliet, udf and hfs namespaces
              will be removed.  This is useful when adding additional files to the ISO and will
              prevent guest from picking a namespace without the imported ISO content when mounting it.
          </p></dd><dt><span class="term">
            <code class="option">--push-iso=<em class="replaceable"><code>iso-file</code></em></code>
          , </span><span class="term">
            <code class="option">--push-iso-no-joliet=<em class="replaceable"><code>iso-file</code></em></code>
          , </span><span class="term">
            <code class="option">--push-iso-no-rock-<em class="replaceable"><code>iso-file</code></em></code>
          , </span><span class="term">
            <code class="option">--push-iso-no-rock-no-joliet=<em class="replaceable"><code>iso-file</code></em></code>
          </span></dt><dd><p>Open the specified ISO file and use it as source file system until the
            corresponding <code class="option">--pop</code> options is encountered.  The variations are for
            selecting which namespace on the ISO to (not) access.  These options are handy for copying
            files/directories/stuff from an ISO without having to extract them first or using the
            <code class="computeroutput">:iprtvfs:</code> syntax.</p></dd><dt><span class="term">
            <code class="option">--pop</code>
          </span></dt><dd><p>Pops a <code class="option">--push-iso</code> of the source file system stack.</p></dd><dt><span class="term">
            <code class="option">--import-iso=<em class="replaceable"><code>iso-file</code></em></code>
          </span></dt><dd><p>Imports everything on the given ISO file, including boot configuration and
            system area (first 16 sectors) content.  You can use <code class="option">--name-setup</code> to omit
            namespaces.</p></dd></dl></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp20839776"></a>Namespaces</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--iso-level=<em class="replaceable"><code>0|1|2|3</code></em></code>
          </span></dt><dd><p>Sets the ISO level:</p><div class="itemizedlist"><ul type="disc" compact><li><p>0: Disable primary ISO namespace.</p></li><li><p>1: ISO level 1: Filenames 8.3 format and limited to 4GB - 1.</p></li><li><p>2: ISO level 2: 31 char long names and limited to 4GB - 1.</p></li><li><p>3: ISO level 3: 31 char long names and support for &gt;=4GB files. (default)</p></li><li><p>4: Fictive level used by other tools. Not yet implemented.</p></li></ul></div></dd><dt><span class="term">
            <code class="option">--rock-ridge</code>
          , </span><span class="term">
            <code class="option">--limited-rock-ridge</code>
          , </span><span class="term">
            <code class="option">--no-rock-ridge</code>
          </span></dt><dd><p>Enables or disables rock ridge support for the primary ISO 9660 namespace.
              The <code class="option">--limited-rock-ridge</code> option omits a couple of bits in the root
              directory that would make Linux pick rock ridge over joliet.</p><p>Default: <code class="option">--limited-rock-ridge</code></p></dd><dt><span class="term">
            <code class="option">-J</code>
          , </span><span class="term">
            <code class="option">--joliet</code>
          , </span><span class="term">
            <code class="option">--no-joliet</code>
          </span></dt><dd><p>Enables or disable the joliet namespace.  This option must precede any file
            specifications.</p><p>Default: <code class="option">--joliet</code></p></dd><dt><span class="term">
            <code class="option">--joliet-ucs-level=<em class="replaceable"><code>1|2|3</code></em></code>
          , </span><span class="term">
            <code class="option">--ucs-level=<em class="replaceable"><code>1|2|3</code></em></code>
          </span></dt><dd><p>Set the Joliet UCS support level.  This is currently only flagged in the
            image but not enforced on the actual path names.</p><p>Default level: 3</p></dd></dl></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp20864800"></a>File Attributes</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--rational-attribs</code>
          </span></dt><dd><p>Enables rational file attribute handling (default):</p><div class="itemizedlist"><ul type="disc" compact><li><p>Owner ID is set to zero</p></li><li><p>Group ID is set to zero</p></li><li><p>Mode is set to 0444 for non-executable files.</p></li><li><p>Mode is set to 0555 for executable files.</p></li><li><p>Mode is set to 0555 for directories, preserving stick bits.</p></li></ul></div></dd><dt><span class="term">
            <code class="option">--strict-attribs</code>
          </span></dt><dd><p>Counters <code class="option">--rational-attribs</code> and causes attributes to be
            recorded exactly as they appear in the source.</p></dd><dt><span class="term">
            <code class="option">--file-mode=<em class="replaceable"><code>mode</code></em></code>
          , </span><span class="term">
            <code class="option">--no-file-mode</code>
          </span></dt><dd><p>Controls the forced file mode mask for rock ridge, UDF and HFS.</p></dd><dt><span class="term">
            <code class="option">--dir-mode=<em class="replaceable"><code>mode</code></em></code>
          , </span><span class="term">
            <code class="option">--no-dir-mode</code>
          </span></dt><dd><p>Controls the forced directory mode mask for rock ridge, UDF and HFS.</p></dd><dt><span class="term">
            <code class="option">--new-dir-mode=<em class="replaceable"><code>mode</code></em></code>
          </span></dt><dd><p>Controls the default mode mask (rock ridge, UDF, HFS) for directories that
            are created implicitly.  The <code class="option">--dir-mode</code> option overrides this.</p></dd><dt><span class="term">
            <code class="option">--chmod=<em class="replaceable"><code>mode</code></em>:<em class="replaceable"><code>on-iso-file</code></em></code>
          </span></dt><dd><p>Explictily sets the rock ridge, UDF and HFS file mode for a file/dir/whatever
            that has already been added to the ISO.  The mode can be octal, <code class="computeroutput">ra+x</code>,
            <code class="computeroutput">a+r</code>, or <code class="computeroutput">a+rx</code>.
            (Support for more complicated mode specifications may be implemented at a later point.)</p><p>Note that only namespaces in the current --name-setup are affected.</p></dd><dt><span class="term">
            <code class="option">--chown=<em class="replaceable"><code>owner-id</code></em>:<em class="replaceable"><code>on-iso-file</code></em></code>
          </span></dt><dd><p>Explictily sets the rock ridge, UDF and HFS file owner ID (numeric) for a
            file/dir/whatever that has already been added to the ISO.</p><p>Note that only namespaces in the current --name-setup are affected.</p></dd><dt><span class="term">--chgrp=<em class="replaceable"><code>group-id</code></em>:<em class="replaceable"><code>on-iso-file</code></em></span></dt><dd><p>Explictily sets the rock ridge, UDF and HFS file group ID (numeric) for a
            file/dir/whatever that has already been added to the ISO.</p><p>Note that only namespaces in the current --name-setup are affected.</p></dd></dl></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp22220656"></a>Booting</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--eltorito-new-entry</code>
          , </span><span class="term">
            <code class="option">--eltorito-alt-boot</code>
          </span></dt><dd><p>Starts a new El Torito boot entry.</p></dd><dt><span class="term">
            <code class="option">--eltorito-add-image=<em class="replaceable"><code>filespec</code></em></code>
          </span></dt><dd><p>File specification of a file that should be added to the image and used as
            the El Torito boot image of the current boot entry.</p></dd><dt><span class="term">
            <code class="option">-b <em class="replaceable"><code>on-iso-file</code></em></code>
          , </span><span class="term">
            <code class="option">--eltorito-boot=<em class="replaceable"><code>on-iso-file</code></em></code>
          </span></dt><dd><p>Specifies a file on the ISO as the El Torito boot image for the current boot
            entry.</p></dd><dt><span class="term">
            <code class="option">--eltorito-floppy-12</code>
          , </span><span class="term">
            <code class="option">--eltorito-floppy-144</code>
          , </span><span class="term">
            <code class="option">--eltorito-floppy-288</code>
          , </span><span class="term">
            <code class="option">--no-emulation-boot</code>
          , </span><span class="term">
            <code class="option">--hard-disk-boot</code>
          </span></dt><dd><p>Sets the boot image emulation type of the current El Torito boot entry.</p></dd><dt><span class="term">
            <code class="option">--boot-load-seg=<em class="replaceable"><code>seg</code></em></code>
          </span></dt><dd><p>Specify the image load segment for the current El Torito boot entry.</p><p>Default: 0x7c0</p></dd><dt><span class="term">
            <code class="option">--boot-load-size=<em class="replaceable"><code>sectors</code></em></code>
          </span></dt><dd><p>Specify the image load size in emulated sectors for the current El Torito
            boot entry.</p><p>Default: 4 (sectors of 512 bytes)</p></dd><dt><span class="term">
            <code class="option">--no-boot</code>
          </span></dt><dd><p>Indicates that the current El Torito boot entry isn't bootable. (The BIOS
            will allegedly configure the emulation, but not attempt booting.)</p></dd><dt><span class="term">
            <code class="option">--boot-info-table</code>
          </span></dt><dd><p>Write a isolinux/syslinux boot info table into the boot image for the
            current El Torito boot entry.</p></dd><dt><span class="term">
            <code class="option">--eltorito-platform-id=<em class="replaceable"><code>id</code></em></code>
          </span></dt><dd><p>Set the El Torito platform ID of the current entry, a new entry of the
            verification entry depending on when it's used.  The ID must be one of:
            <code class="computeroutput">x86</code>, <code class="computeroutput">PPC</code>,
            <code class="computeroutput">Mac</code>, <code class="computeroutput">efi</code></p></dd><dt><span class="term">
            <code class="option">-c <em class="replaceable"><code>namespec</code></em></code>
          , </span><span class="term">
            <code class="option">--boot-catalog=<em class="replaceable"><code>namespec</code></em></code>
          </span></dt><dd><p>Enters the El Torito boot catalog into the namespaces as a file.  The
            <em class="replaceable"><code>namespec</code></em> uses the same format as a 'filespec', but omits the
            final source file system name component.</p></dd><dt><span class="term">
            <code class="option">-G <em class="replaceable"><code>file</code></em></code>
          , </span><span class="term">
            <code class="option">--generic-boot=<em class="replaceable"><code>file</code></em></code>
          </span></dt><dd><p>Specifies a file that should be loaded at offset 0 in the ISO image.  The
            file must not be larger than 32KB.  When creating a hybrid image, parts of this may be
            regenerated by partition tables and such.</p></dd></dl></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp22792272"></a>String properties (applied to active namespaces only)</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--abstract=<em class="replaceable"><code>file-id</code></em></code>
          </span></dt><dd><p>The name of the abstract file in the root dir.</p></dd><dt><span class="term">
            <code class="option">-A <em class="replaceable"><code>text|_file-id</code></em></code>
          , </span><span class="term">
            <code class="option">--application-id=<em class="replaceable"><code>text|_file-id</code></em></code>
          </span></dt><dd><p>Application ID string or root file name.  The latter must be prefixed with
            an underscore.</p></dd><dt><span class="term">
            <code class="option">--biblio=<em class="replaceable"><code>file-id</code></em></code>
          </span></dt><dd><p>The name of the bibliographic file in the root dir.</p></dd><dt><span class="term">
            <code class="option">--copyright=<em class="replaceable"><code>file-id</code></em></code>
          </span></dt><dd><p>The name of the copyright file in the root dir.</p></dd><dt><span class="term">
            <code class="option">-P <em class="replaceable"><code>text|_file-id</code></em></code>
          , </span><span class="term">
            <code class="option">--publisher=<em class="replaceable"><code>text|_file-id</code></em></code>
          </span></dt><dd><p>Publisher ID string or root file name.  The latter must be prefixed with an
            underscore.</p></dd><dt><span class="term">
            <code class="option">-p <em class="replaceable"><code>text|_file-id</code></em></code>
          , </span><span class="term">
            <code class="option">--preparer=<em class="replaceable"><code>text|_file-id</code></em></code>
          </span></dt><dd><p>Data preparer ID string or root file name.  The latter must be prefixed
            with an underscore.</p></dd><dt><span class="term">
            <code class="option">--sysid=<em class="replaceable"><code>text</code></em></code>
          </span></dt><dd><p>System ID string.</p></dd><dt><span class="term">
            <code class="option">--volid=<em class="replaceable"><code>text</code></em></code>
          , </span><span class="term">
            <code class="option">--volume-id=<em class="replaceable"><code>text</code></em></code>
          </span></dt><dd><p>Volume ID string (label).  (It is possible to set different labels for
            primary ISO 9660, joliet, UDF and HFS by changing the active namespaces using the
            <code class="option">--name-setup</code> option between <code class="option">--volume-id</code> occurences.)</p></dd><dt><span class="term">
            <code class="option">--volset=<em class="replaceable"><code>text</code></em></code>
          </span></dt><dd><p>Volume set ID string.</p></dd></dl></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp22822816"></a>Compatibility:</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--graft-points</code>
          </span></dt><dd><p>Alias for --name-setup iso+joliet+udf+hfs.</p></dd><dt><span class="term">
            <code class="option">-l</code>
          , </span><span class="term">
            <code class="option">--long-names</code>
          </span></dt><dd><p>Allow 31 charater filenames.  Just ensure ISO level &gt;= 2 here.</p></dd><dt><span class="term">
            <code class="option">-R</code>
          , </span><span class="term">
            <code class="option">--rock</code>
          </span></dt><dd><p>Same as <code class="option">--rock-ridge</code> and <code class="option">--strict-attribs</code>.</p></dd><dt><span class="term">
            <code class="option">-r</code>
          , </span><span class="term">
            <code class="option">--rational-rock</code>
          </span></dt><dd><p>Same as <code class="option">--rock-ridge</code> and <code class="option">--rational-attribs</code>.</p></dd></dl></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp22838160"></a>VISO Specific:</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--iprt-iso-maker-file-marker=<em class="replaceable"><code>UUID</code></em></code>
          , </span><span class="term">
            <code class="option">--iprt-iso-maker-file-marker-bourne=<em class="replaceable"><code>UUID</code></em></code>
          , </span><span class="term">
            <code class="option">--iprt-iso-maker-file-marker-bourne-sh=<em class="replaceable"><code>UUID</code></em></code>
          </span></dt><dd><p>Used as first option in a VISO file to specify the file UUID and that it is
            formatted using bourne-shell argument quoting &amp; escaping style.</p></dd><dt><span class="term">
            <code class="option">--iprt-iso-maker-file-marker-ms=<em class="replaceable"><code>UUID</code></em></code>
          , </span><span class="term">
            <code class="option">--iprt-iso-maker-file-marker-ms-sh=<em class="replaceable"><code>UUID</code></em></code>
          </span></dt><dd><p>Used as first option in a VISO file to specify the file UUID and that it is
            formatted using microsoft CRT argument quoting &amp; escaping style.</p></dd></dl></div></div></div><div class="not-in-toc refsect2"><div class="sect3" lang="en"><div class="titlepage"><div><div><div class="not-in-toc refsect2"><h4 class="title"><a name="idp22849008"></a>Testing (not applicable to VISO):</h4></div></div></div></div><div class="variablelist"><dl><dt><span class="term">
            <code class="option">--output-buffer-size=<em class="replaceable"><code>bytes</code></em></code>
          </span></dt><dd><p>Selects a specific output buffer size for testing virtual image reads.</p></dd><dt><span class="term">
            <code class="option">--random-output-buffer-size</code>
          </span></dt><dd><p>Enables randomized buffer size for each virtual image read, using the
            current output buffer size (<code class="option">--output-buffer-size</code>) as maximum.</p></dd><dt><span class="term">
            <code class="option">--random-order-verification=<em class="replaceable"><code>size</code></em></code>
          </span></dt><dd><p>Enables verification pass of the image that compares blocks of the given
            size in random order from the virtual and output images.</p></dd></dl></div></div></div></div></div></div></div></div></body></html>
